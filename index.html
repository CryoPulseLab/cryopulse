<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CryoPulse ‚Äî Marine Cryogenic Pump Intelligence by Shadi Mahshi</title>
<meta name="description" content="Comprehensive market intelligence on reciprocating cryogenic pumps in the marine industry. Competitor analysis, 3D pump models, market predictions, and strategic insights by Shadi Mahshi.">
<meta name="author" content="Shadi Mahshi">
<meta property="og:title" content="CryoPulse ‚Äî Marine Cryogenic Pump Intelligence">
<meta property="og:description" content="Interactive analysis of the reciprocating cryogenic pump marine industry. 5 competitors, 25 pump models, 5-year market forecast.">
<meta property="og:type" content="website">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ùÑÔ∏è</text></svg>">
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#0a0c10;--surface:#12151c;--surface2:#1a1e28;--border:#252a36;
--accent:#00e5a0;--accent2:#00b8d4;--accent3:#6c63ff;--warn:#ff6b6b;
--text:#e8eaf0;--text2:#8892a4;--text3:#5a6478;
}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'DM Sans',sans-serif;overflow-x:hidden;line-height:1.6}
.mono{font-family:'Space Mono',monospace}

/* SCROLLBAR */
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}

/* NOISE OVERLAY */
body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;
background:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
pointer-events:none;z-index:9999;opacity:.5}

/* HEADER */
header{position:relative;min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;
padding:2rem;overflow:hidden;text-align:center}
header::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;
background:radial-gradient(ellipse at 30% 50%,rgba(0,229,160,.06) 0%,transparent 50%),
radial-gradient(ellipse at 70% 60%,rgba(0,184,212,.04) 0%,transparent 50%);animation:drift 20s ease-in-out infinite}
@keyframes drift{0%,100%{transform:translate(0,0)}50%{transform:translate(-2%,1%)}}

.hero-label{font-family:'Space Mono',monospace;font-size:.75rem;letter-spacing:.3em;text-transform:uppercase;
color:var(--accent);margin-bottom:1.5rem;opacity:0;animation:fadeUp .8s ease forwards .2s}
.hero-title{font-size:clamp(2rem,6vw,4.5rem);font-weight:700;line-height:1.1;max-width:900px;
opacity:0;animation:fadeUp .8s ease forwards .4s}
.hero-title span{background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero-sub{font-size:1.1rem;color:var(--text2);max-width:700px;margin-top:1.5rem;opacity:0;animation:fadeUp .8s ease forwards .6s}
.hero-stats{display:flex;gap:3rem;margin-top:3rem;opacity:0;animation:fadeUp .8s ease forwards .8s}
.hero-stat{text-align:center}
.hero-stat .val{font-family:'Space Mono',monospace;font-size:2rem;font-weight:700;color:var(--accent)}
.hero-stat .lbl{font-size:.75rem;color:var(--text3);text-transform:uppercase;letter-spacing:.1em;margin-top:.25rem}

.scroll-hint{position:absolute;bottom:2rem;opacity:0;animation:fadeUp .8s ease forwards 1.2s}
.scroll-hint span{display:block;width:2px;height:40px;background:linear-gradient(to bottom,var(--accent),transparent);
margin:0 auto;animation:scrollPulse 2s ease-in-out infinite}

@keyframes fadeUp{to{opacity:1;transform:translateY(0)}}
@keyframes scrollPulse{0%,100%{transform:scaleY(1);opacity:.5}50%{transform:scaleY(.5);opacity:1}}
.hero-label,.hero-title,.hero-sub,.hero-stats,.scroll-hint{transform:translateY(20px)}

/* NAV */
nav{position:sticky;top:0;z-index:100;background:rgba(10,12,16,.85);backdrop-filter:blur(20px);
border-bottom:1px solid var(--border);padding:.75rem 2rem;display:flex;align-items:center;gap:2rem;overflow-x:auto}
nav a{font-size:.8rem;color:var(--text2);text-decoration:none;white-space:nowrap;letter-spacing:.05em;
transition:color .2s;font-family:'Space Mono',monospace}
nav a:hover,nav a.active{color:var(--accent)}
nav .nav-logo{font-weight:700;color:var(--text);font-size:.9rem;margin-right:auto}

/* SECTIONS */
section{padding:5rem 2rem;max-width:1400px;margin:0 auto}
.section-label{font-family:'Space Mono',monospace;font-size:.7rem;letter-spacing:.3em;text-transform:uppercase;
color:var(--accent);margin-bottom:.75rem}
.section-title{font-size:clamp(1.5rem,3vw,2.5rem);font-weight:700;margin-bottom:1rem}
.section-desc{color:var(--text2);max-width:700px;margin-bottom:3rem}

/* COMPANY GRID */
.company-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1.5rem}
.company-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:2rem;
cursor:pointer;transition:all .4s cubic-bezier(.16,1,.3,1);position:relative;overflow:hidden}
.company-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;
background:linear-gradient(90deg,var(--accent),var(--accent2));transform:scaleX(0);transition:transform .4s;transform-origin:left}
.company-card:hover{transform:translateY(-4px);border-color:var(--accent);box-shadow:0 20px 60px rgba(0,229,160,.08)}
.company-card:hover::before{transform:scaleX(1)}
.company-card.active{border-color:var(--accent);background:var(--surface2)}

.company-logo{width:80px;height:80px;border-radius:12px;display:flex;align-items:center;justify-content:center;
font-weight:700;font-size:1.2rem;margin-bottom:1.25rem;position:relative;overflow:hidden;transition:transform .5s}
.company-card:hover .company-logo{transform:scale(1.05) rotate(-2deg)}
.company-name{font-weight:600;font-size:1.1rem;margin-bottom:.25rem}
.company-country{font-size:.8rem;color:var(--text3);font-family:'Space Mono',monospace}
.company-tag{display:inline-block;font-size:.65rem;padding:.25rem .6rem;border-radius:20px;
background:rgba(0,229,160,.1);color:var(--accent);margin-top:.75rem;font-family:'Space Mono',monospace}

/* COMPANY DETAIL */
.company-detail{display:none;margin-top:3rem;animation:slideIn .5s ease}
.company-detail.active{display:block}
@keyframes slideIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

.detail-header{display:flex;align-items:flex-start;gap:2rem;margin-bottom:2rem;flex-wrap:wrap}
.detail-info{flex:1;min-width:300px}
.detail-info h2{font-size:2rem;margin-bottom:.5rem}
.detail-info p{color:var(--text2);max-width:600px}
.detail-stats{display:flex;gap:1.5rem;margin-top:1.5rem;flex-wrap:wrap}
.detail-stat{background:var(--surface2);border-radius:12px;padding:1rem 1.25rem;min-width:120px}
.detail-stat .v{font-family:'Space Mono',monospace;font-size:1.3rem;font-weight:700;color:var(--accent)}
.detail-stat .l{font-size:.7rem;color:var(--text3);margin-top:.25rem;text-transform:uppercase;letter-spacing:.05em}

/* PUMP CARDS */
.pump-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-top:2rem}
.pump-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;overflow:hidden;
transition:all .3s}
.pump-card:hover{border-color:var(--accent2);transform:translateY(-2px)}
.pump-3d{height:220px;background:var(--bg);position:relative;cursor:grab;overflow:hidden}
.pump-3d:active{cursor:grabbing}
.pump-3d canvas{width:100%!important;height:100%!important}
.pump-3d .drag-hint{position:absolute;bottom:8px;right:8px;font-size:.6rem;color:var(--text3);
font-family:'Space Mono',monospace;background:rgba(0,0,0,.6);padding:2px 8px;border-radius:4px;pointer-events:none}
.pump-info{padding:1.25rem}
.pump-name{font-weight:600;font-size:1rem;margin-bottom:.5rem}
.pump-specs{display:grid;grid-template-columns:1fr 1fr;gap:.4rem;margin-top:.75rem}
.pump-spec{font-size:.75rem;color:var(--text2)}
.pump-spec strong{color:var(--text);font-weight:500}
.pump-type-badge{display:inline-block;font-size:.6rem;padding:.2rem .5rem;border-radius:4px;
font-family:'Space Mono',monospace;text-transform:uppercase;letter-spacing:.05em}
.pump-type-badge.recip{background:rgba(108,99,255,.15);color:var(--accent3)}
.pump-type-badge.cent{background:rgba(0,184,212,.15);color:var(--accent2)}
.pump-type-badge.sub{background:rgba(0,229,160,.15);color:var(--accent)}

/* CHARTS */
.chart-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}
.chart-box{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:1.5rem}
.chart-box h3{font-size:1rem;margin-bottom:.25rem}
.chart-box .chart-sub{font-size:.75rem;color:var(--text3);margin-bottom:1rem}
.chart-wrap{position:relative;height:300px}

/* PREDICTIONS */
.pred-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1.5rem}
.pred-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:1.75rem;
position:relative;overflow:hidden}
.pred-card::after{content:'';position:absolute;top:0;right:0;width:80px;height:80px;
border-radius:0 16px 0 80px;opacity:.15}
.pred-card.bullish::after{background:var(--accent)}
.pred-card.watch::after{background:var(--accent2)}
.pred-card.gap::after{background:var(--accent3)}
.pred-card.risk::after{background:var(--warn)}
.pred-icon{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;
font-size:1.2rem;margin-bottom:1rem}
.pred-card.bullish .pred-icon{background:rgba(0,229,160,.15);color:var(--accent)}
.pred-card.watch .pred-icon{background:rgba(0,184,212,.15);color:var(--accent2)}
.pred-card.gap .pred-icon{background:rgba(108,99,255,.15);color:var(--accent3)}
.pred-card.risk .pred-icon{background:rgba(255,107,107,.15);color:var(--warn)}
.pred-card h4{font-size:1rem;margin-bottom:.5rem}
.pred-card p{font-size:.85rem;color:var(--text2);line-height:1.5}
.pred-card .pred-year{font-family:'Space Mono',monospace;font-size:.65rem;color:var(--text3);margin-top:.75rem}

/* TECH ROADMAP */
.roadmap{position:relative;padding-left:2rem;margin-top:2rem}
.roadmap::before{content:'';position:absolute;left:7px;top:0;bottom:0;width:2px;
background:linear-gradient(to bottom,var(--accent),var(--accent2),var(--accent3))}
.roadmap-item{position:relative;padding-bottom:2.5rem}
.roadmap-item::before{content:'';position:absolute;left:-2rem;top:4px;width:16px;height:16px;
border-radius:50%;border:3px solid var(--accent);background:var(--bg)}
.roadmap-item:nth-child(2)::before{border-color:var(--accent2)}
.roadmap-item:nth-child(3)::before{border-color:var(--accent3)}
.roadmap-item:nth-child(4)::before{border-color:var(--warn)}
.roadmap-item:nth-child(5)::before{border-color:#f0c040}
.roadmap-year{font-family:'Space Mono',monospace;font-size:.75rem;color:var(--accent);margin-bottom:.25rem}

/* EXPANDABLE ROADMAP */
.roadmap-item.expandable{cursor:pointer}
.roadmap-item.expandable .roadmap-title{display:flex;align-items:center;gap:.5rem}
.roadmap-item.expandable .roadmap-title::after{content:'Ôºã';font-size:.9rem;color:var(--accent);
font-family:'Space Mono',monospace;transition:transform .3s;display:inline-block;margin-left:.25rem}
.roadmap-item.expandable.open .roadmap-title::after{transform:rotate(45deg)}
.roadmap-item.expandable .roadmap-desc{display:flex;align-items:center;gap:.5rem}
.roadmap-item.expandable .roadmap-desc .click-hint{font-family:'Space Mono',monospace;font-size:.6rem;
color:var(--accent);background:rgba(0,229,160,.1);padding:.15rem .5rem;border-radius:4px;display:inline-block;
margin-left:.5rem;animation:hintPulse 2s ease-in-out infinite}
@keyframes hintPulse{0%,100%{opacity:.6}50%{opacity:1}}

.expand-panel{max-height:0;overflow:hidden;transition:max-height .6s cubic-bezier(.16,1,.3,1),opacity .4s;opacity:0}
.expand-panel.open{max-height:5000px;opacity:1}
.expand-inner{padding-top:1.5rem}

/* FGSS Deep-dive cards */
.fgss-section{margin-bottom:2rem}
.fgss-section-label{font-family:'Space Mono',monospace;font-size:.65rem;letter-spacing:.25em;
text-transform:uppercase;color:var(--accent2);margin-bottom:1rem;padding-bottom:.5rem;
border-bottom:1px solid var(--border)}
.fgss-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem}
.fgss-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:1.25rem;
transition:all .3s;position:relative;overflow:hidden}
.fgss-card:hover{border-color:var(--accent);transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,229,160,.06)}
.fgss-card .fgss-vendor{font-family:'Space Mono',monospace;font-size:.6rem;letter-spacing:.1em;
text-transform:uppercase;margin-bottom:.5rem;display:inline-block;padding:.15rem .5rem;border-radius:4px}
.fgss-card h5{font-size:.95rem;font-weight:600;margin-bottom:.4rem}
.fgss-card p{font-size:.8rem;color:var(--text2);line-height:1.5}
.fgss-card .fgss-specs{display:grid;grid-template-columns:1fr 1fr;gap:.3rem;margin-top:.75rem;
padding-top:.75rem;border-top:1px solid var(--border)}
.fgss-card .fgss-spec{font-size:.7rem}
.fgss-card .fgss-spec strong{color:var(--text);font-weight:500}
.fgss-card .fgss-spec span{color:var(--text3)}
.fgss-card .fgss-status{position:absolute;top:1rem;right:1rem;font-size:.55rem;font-family:'Space Mono',monospace;
padding:.2rem .5rem;border-radius:4px;letter-spacing:.05em;text-transform:uppercase}
.fgss-status.shipping{background:rgba(0,229,160,.15);color:var(--accent)}
.fgss-status.active{background:rgba(0,184,212,.15);color:var(--accent2)}
.fgss-status.development{background:rgba(240,192,64,.15);color:#f0c040}
.fgss-status.newlaunch{background:rgba(108,99,255,.15);color:var(--accent3)}

/* Progress bars */
.fgss-progress-row{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}
.fgss-progress-label{font-size:.75rem;color:var(--text2);min-width:180px}
.fgss-progress-track{flex:1;height:8px;background:var(--surface2);border-radius:4px;overflow:hidden;position:relative}
.fgss-progress-fill{height:100%;border-radius:4px;transition:width 1s cubic-bezier(.16,1,.3,1)}
.fgss-progress-val{font-family:'Space Mono',monospace;font-size:.7rem;color:var(--text3);min-width:40px;text-align:right}

/* Timeline mini */
.fgss-timeline{display:flex;gap:0;margin-top:1.5rem;margin-bottom:1rem;border-radius:8px;overflow:hidden}
.fgss-tl-item{flex:1;padding:.75rem .5rem;text-align:center;font-size:.65rem;border-right:1px solid var(--border);
font-family:'Space Mono',monospace;transition:all .3s;cursor:default;position:relative}
.fgss-tl-item:last-child{border-right:none}
.fgss-tl-item .tl-year{font-weight:700;display:block;margin-bottom:.25rem}
.fgss-tl-item .tl-event{color:var(--text3);font-size:.6rem;font-family:'DM Sans',sans-serif;line-height:1.3}
.fgss-tl-item:hover{background:var(--surface2)}
.fgss-tl-item.past{background:rgba(0,229,160,.06)}
.fgss-tl-item.current{background:rgba(0,229,160,.12);border-bottom:2px solid var(--accent)}
.fgss-tl-item.future{background:var(--surface)}

/* Key facts callout */
.fgss-callout{background:linear-gradient(135deg,rgba(0,229,160,.08),rgba(0,184,212,.05));
border:1px solid rgba(0,229,160,.2);border-radius:12px;padding:1.25rem 1.5rem;margin-bottom:1.5rem;
display:flex;gap:2rem;flex-wrap:wrap}
.fgss-callout-stat{text-align:center;min-width:100px}
.fgss-callout-stat .cs-val{font-family:'Space Mono',monospace;font-size:1.4rem;font-weight:700;color:var(--accent)}
.fgss-callout-stat .cs-lbl{font-size:.65rem;color:var(--text3);margin-top:.15rem;text-transform:uppercase;letter-spacing:.05em}

/* Engine compatibility badges */
.engine-badge{display:inline-flex;align-items:center;gap:.3rem;font-size:.6rem;padding:.2rem .5rem;
border-radius:4px;font-family:'Space Mono',monospace;margin-right:.3rem;margin-bottom:.3rem}
.engine-badge.megi{background:rgba(0,229,160,.12);color:var(--accent);border:1px solid rgba(0,229,160,.25)}
.engine-badge.xdf{background:rgba(0,184,212,.12);color:var(--accent2);border:1px solid rgba(0,184,212,.25)}
.engine-badge.dfde{background:rgba(108,99,255,.12);color:var(--accent3);border:1px solid rgba(108,99,255,.25)}
.engine-badge.multi{background:rgba(240,192,64,.12);color:#f0c040;border:1px solid rgba(240,192,64,.25)}
.roadmap-title{font-weight:600;font-size:1.05rem;margin-bottom:.25rem}
.roadmap-desc{font-size:.85rem;color:var(--text2);max-width:600px}

/* COMPARISON TABLE */
.comp-table-wrap{overflow-x:auto;margin-top:2rem;border-radius:16px;border:1px solid var(--border)}
table.comp-table{width:100%;border-collapse:collapse;min-width:800px}
table.comp-table th{background:var(--surface2);padding:1rem;text-align:left;font-size:.75rem;
text-transform:uppercase;letter-spacing:.1em;color:var(--text3);font-family:'Space Mono',monospace;
border-bottom:1px solid var(--border);position:sticky;top:0}
table.comp-table td{padding:.85rem 1rem;border-bottom:1px solid var(--border);font-size:.85rem;
background:var(--surface);vertical-align:top}
table.comp-table tr:hover td{background:var(--surface2)}
.bar-cell{display:flex;align-items:center;gap:.5rem}
.bar-fill{height:6px;border-radius:3px;background:linear-gradient(90deg,var(--accent),var(--accent2));transition:width .6s}
.bar-val{font-family:'Space Mono',monospace;font-size:.7rem;color:var(--text3);min-width:35px}

/* GAP ANALYSIS */
.gap-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}
.gap-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:1.75rem;
border-left:3px solid var(--accent3);transition:all .3s}
.gap-card:hover{transform:translateX(4px);border-left-color:var(--accent)}
.gap-card h4{font-size:1rem;margin-bottom:.5rem}
.gap-card p{font-size:.85rem;color:var(--text2)}
.gap-opp{font-family:'Space Mono',monospace;font-size:.65rem;color:var(--accent);margin-top:.75rem;
padding:.3rem .6rem;background:rgba(0,229,160,.08);border-radius:4px;display:inline-block}

/* STRATEGIC MATRIX */
.matrix{display:grid;grid-template-columns:1fr 1fr;gap:2px;margin-top:2rem;border-radius:16px;overflow:hidden;
background:var(--border);max-width:800px}
.matrix-cell{background:var(--surface);padding:1.5rem;min-height:200px}
.matrix-cell h4{font-size:.85rem;font-family:'Space Mono',monospace;margin-bottom:.75rem}
.matrix-cell ul{list-style:none;padding:0}
.matrix-cell li{font-size:.8rem;color:var(--text2);padding:.3rem 0;padding-left:1rem;position:relative}
.matrix-cell li::before{content:'‚Ä∫';position:absolute;left:0;color:var(--accent)}
.matrix-label{font-size:.65rem;color:var(--text3);text-transform:uppercase;letter-spacing:.15em;margin-bottom:.5rem;
font-family:'Space Mono',monospace}
.matrix-q{position:relative}
.matrix-q.q1 h4{color:var(--accent)}
.matrix-q.q2 h4{color:var(--accent2)}
.matrix-q.q3 h4{color:var(--accent3)}
.matrix-q.q4 h4{color:var(--warn)}

/* INTERACTIVE SANKEY/FLOW */
.flow-section{margin-top:2rem}
.flow-diagram{display:flex;align-items:center;gap:1rem;overflow-x:auto;padding:2rem 0}
.flow-node{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:1rem 1.25rem;
min-width:140px;text-align:center;transition:all .3s;cursor:pointer;flex-shrink:0}
.flow-node:hover{border-color:var(--accent);transform:scale(1.05)}
.flow-node .fn-label{font-size:.65rem;color:var(--text3);text-transform:uppercase;font-family:'Space Mono',monospace}
.flow-node .fn-val{font-size:1.1rem;font-weight:600;margin-top:.25rem}
.flow-arrow{color:var(--text3);font-size:1.5rem;flex-shrink:0}

/* FOOTER */
footer{border-top:1px solid var(--border);padding:3rem 2rem;text-align:center;color:var(--text3);font-size:.8rem}

/* TABS */
.tab-row{display:flex;gap:.5rem;margin-bottom:2rem;flex-wrap:wrap}
.tab-btn{padding:.5rem 1rem;border-radius:8px;border:1px solid var(--border);background:transparent;
color:var(--text2);cursor:pointer;font-size:.8rem;font-family:'Space Mono',monospace;transition:all .2s}
.tab-btn:hover{border-color:var(--accent)}
.tab-btn.active{background:var(--accent);color:var(--bg);border-color:var(--accent)}

/* TOOLTIP */
.tooltip{position:relative}
.tooltip:hover::after{content:attr(data-tip);position:absolute;bottom:100%;left:50%;transform:translateX(-50%);
padding:.4rem .8rem;background:var(--surface2);border:1px solid var(--border);border-radius:6px;
font-size:.7rem;color:var(--text);white-space:nowrap;z-index:10}

/* RESPONSIVE */
@media(max-width:768px){
  .hero-stats{flex-direction:column;gap:1rem;align-items:center}
  .chart-grid{grid-template-columns:1fr}
  .matrix{grid-template-columns:1fr}
  nav{gap:1rem;padding:.75rem 1rem}
  section{padding:3rem 1rem}
}

/* ANIMATED GRADIENT BORDERS */
.glow-border{position:relative}
.glow-border::before{content:'';position:absolute;inset:-1px;border-radius:17px;padding:1px;
background:linear-gradient(135deg,var(--accent),var(--accent2),var(--accent3));
-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);
-webkit-mask-composite:xor;mask-composite:exclude;opacity:0;transition:opacity .4s}
.glow-border:hover::before{opacity:1}

/* KPI TICKER */
.kpi-ticker{display:flex;gap:2rem;padding:1rem 2rem;background:var(--surface);border-bottom:1px solid var(--border);
overflow-x:auto;font-family:'Space Mono',monospace;font-size:.75rem}
.kpi-item{display:flex;align-items:center;gap:.5rem;white-space:nowrap}
.kpi-item .kpi-dot{width:6px;height:6px;border-radius:50%}
.kpi-item .kpi-up{color:var(--accent)}
.kpi-item .kpi-val{color:var(--text)}

/* POTENTIAL CUSTOMERS */
.cust-controls{display:flex;gap:.75rem;flex-wrap:wrap;margin-bottom:1.5rem}
.cust-filter{padding:.4rem .85rem;border-radius:20px;border:1px solid var(--border);background:transparent;
color:var(--text2);font-size:.7rem;font-family:'Space Mono',monospace;cursor:pointer;transition:all .3s;letter-spacing:.04em}
.cust-filter:hover,.cust-filter.active{border-color:var(--accent);color:var(--accent);background:rgba(0,229,160,.08)}
.cust-list{display:flex;flex-direction:column;gap:.75rem}
.cust-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;overflow:hidden;
transition:all .4s;cursor:pointer}
.cust-card:hover{border-color:rgba(0,229,160,.3)}
.cust-card.open{border-color:var(--accent)}
.cust-header{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem}
.cust-rank{font-family:'Space Mono',monospace;font-size:1.1rem;font-weight:700;min-width:34px;height:34px;
display:flex;align-items:center;justify-content:center;border-radius:8px;background:var(--surface2);color:var(--text3)}
.cust-card:nth-child(-n+3) .cust-rank{background:rgba(0,229,160,.12);color:var(--accent)}
.cust-card:nth-child(n+4):nth-child(-n+6) .cust-rank{background:rgba(0,184,212,.1);color:var(--accent2)}
.cust-info{flex:1;min-width:0}
.cust-name{font-size:.95rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.cust-sub{font-size:.7rem;color:var(--text3);margin-top:.1rem;font-family:'Space Mono',monospace}
.cust-badges{display:flex;gap:.35rem;flex-wrap:wrap}
.cust-badge{font-size:.55rem;padding:.15rem .45rem;border-radius:3px;font-family:'Space Mono',monospace;
letter-spacing:.04em;text-transform:uppercase}
.cust-badge.container{background:rgba(0,229,160,.1);color:var(--accent)}
.cust-badge.cruise{background:rgba(108,99,255,.1);color:var(--accent3)}
.cust-badge.carrier{background:rgba(0,184,212,.1);color:var(--accent2)}
.cust-badge.tanker{background:rgba(240,192,64,.1);color:#f0c040}
.cust-badge.car{background:rgba(255,107,107,.1);color:var(--warn)}
.cust-badge.gas{background:rgba(255,180,60,.1);color:#ffb43c}
.cust-meta{display:flex;gap:1rem;align-items:center;flex-shrink:0}
.cust-stat{text-align:center}
.cust-stat .cs-n{font-family:'Space Mono',monospace;font-size:.95rem;font-weight:700;color:var(--accent)}
.cust-stat .cs-l{font-size:.55rem;color:var(--text3);text-transform:uppercase;letter-spacing:.05em}
.cust-expand-icon{font-size:.85rem;color:var(--text3);transition:transform .3s;font-family:'Space Mono',monospace}
.cust-card.open .cust-expand-icon{transform:rotate(45deg);color:var(--accent)}

/* Expanded panel */
.cust-panel{max-height:0;overflow:hidden;transition:max-height .5s cubic-bezier(.16,1,.3,1),opacity .3s;opacity:0}
.cust-card.open .cust-panel{max-height:3000px;opacity:1}
.cust-panel-inner{padding:0 1.25rem 1.25rem;border-top:1px solid var(--border);margin-top:0;padding-top:1.25rem}

/* Vessel gallery */
.cust-gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:.75rem;margin-bottom:1.25rem}
.cust-vessel-card{background:var(--surface2);border-radius:10px;overflow:hidden;border:1px solid var(--border);transition:all .3s}
.cust-vessel-card:hover{border-color:var(--accent2);transform:translateY(-2px)}
.cust-vessel-img{width:100%;height:140px;object-fit:cover;display:block;background:var(--bg)}
.cust-vessel-info{padding:.75rem}
.cust-vessel-info h6{font-size:.8rem;font-weight:600;margin-bottom:.2rem}
.cust-vessel-info p{font-size:.65rem;color:var(--text3);line-height:1.4}
.cust-vessel-tag{display:inline-block;font-size:.55rem;font-family:'Space Mono',monospace;padding:.1rem .35rem;
border-radius:3px;margin-top:.35rem;margin-right:.2rem}
.cust-vessel-tag.hp{background:rgba(0,229,160,.1);color:var(--accent)}
.cust-vessel-tag.lp{background:rgba(0,184,212,.1);color:var(--accent2)}
.cust-vessel-tag.planned{background:rgba(240,192,64,.1);color:#f0c040}

/* Details grid */
.cust-details{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}
.cust-detail-block h6{font-family:'Space Mono',monospace;font-size:.6rem;letter-spacing:.15em;text-transform:uppercase;
color:var(--accent2);margin-bottom:.5rem}
.cust-detail-block p{font-size:.78rem;color:var(--text2);line-height:1.5}
.cust-detail-block ul{list-style:none;padding:0}
.cust-detail-block ul li{font-size:.75rem;color:var(--text2);padding:.2rem 0;border-bottom:1px solid var(--border)}
.cust-detail-block ul li:last-child{border:none}
.cust-detail-block ul li::before{content:'‚ñ∏ ';color:var(--accent)}

/* Pump demand bar */
.cust-demand-bar{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;padding:.75rem;
background:var(--surface2);border-radius:8px}
.cust-demand-label{font-size:.7rem;color:var(--text2);min-width:140px}
.cust-demand-track{flex:1;height:10px;background:var(--bg);border-radius:5px;overflow:hidden}
.cust-demand-fill{height:100%;border-radius:5px;transition:width 1.2s cubic-bezier(.16,1,.3,1)}
.cust-demand-val{font-family:'Space Mono',monospace;font-size:.75rem;color:var(--accent);min-width:60px;text-align:right}

/* Supplier pills */
.cust-suppliers{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.5rem}
.cust-supplier-pill{font-size:.6rem;padding:.2rem .5rem;border-radius:12px;font-family:'Space Mono',monospace;
border:1px solid var(--border);color:var(--text2);transition:all .3s}
.cust-supplier-pill.primary{border-color:var(--accent);color:var(--accent);background:rgba(0,229,160,.06)}

@media(max-width:768px){
.cust-meta{display:none}
.cust-details{grid-template-columns:1fr}
.cust-gallery{grid-template-columns:1fr 1fr}
}
</style>
</head>
<body>

<!-- HEADER -->
<header>
<div class="hero-label">CryoPulse ¬∑ Market Intelligence Report ¬∑ 2026</div>
<h1 class="hero-title">Reciprocating Cryogenic Pumps<br>in the <span>Marine Industry</span></h1>
<div class="hero-author" style="margin-top:1rem;opacity:0;animation:fadeUp .8s ease forwards .5s;transform:translateY(20px)">
  <span style="font-family:'Space Mono',monospace;font-size:.85rem;letter-spacing:.15em;color:var(--text2)">By </span>
  <span style="font-family:'Space Mono',monospace;font-size:.95rem;letter-spacing:.1em;background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:700">Shadi Mahshi</span>
</div>
<p class="hero-sub">A comprehensive analysis of the competitive landscape, technology trajectories, and untapped market opportunities in marine LNG, hydrogen, and ammonia pump systems.</p>
<div class="hero-stats">
  <div class="hero-stat"><div class="val">$500M+</div><div class="lbl">Marine Cryo Market</div></div>
  <div class="hero-stat"><div class="val">7% CAGR</div><div class="lbl">2025‚Äì2033</div></div>
  <div class="hero-stat"><div class="val">400+</div><div class="lbl">LNG Vessels</div></div>
  <div class="hero-stat"><div class="val">5</div><div class="lbl">Key Competitors</div></div>
</div>
<div class="scroll-hint"><span></span></div>
</header>

<!-- TICKER -->
<div class="kpi-ticker">
  <div class="kpi-item"><span class="kpi-dot" style="background:var(--accent)"></span><span class="kpi-val">LNG Demand</span><span class="kpi-up">‚ñ≤ 6.5%</span></div>
  <div class="kpi-item"><span class="kpi-dot" style="background:var(--accent2)"></span><span class="kpi-val">H‚ÇÇ Marine R&D</span><span class="kpi-up">‚ñ≤ 14%</span></div>
  <div class="kpi-item"><span class="kpi-dot" style="background:var(--accent3)"></span><span class="kpi-val">Dual-Fuel Orders</span><span class="kpi-up">‚ñ≤ 23%</span></div>
  <div class="kpi-item"><span class="kpi-dot" style="background:var(--warn)"></span><span class="kpi-val">NH‚ÇÉ Readiness</span><span style="color:var(--warn)">‚óè Early</span></div>
  <div class="kpi-item"><span class="kpi-dot" style="background:var(--accent)"></span><span class="kpi-val">Asia-Pacific</span><span class="kpi-up">‚ñ≤ 8.1% CAGR</span></div>
  <div class="kpi-item"><span class="kpi-dot" style="background:var(--accent2)"></span><span class="kpi-val">FGSS Retrofits</span><span class="kpi-up">‚ñ≤ 30%</span></div>
</div>

<!-- NAV -->
<nav>
  <span class="nav-logo">CRYO<span style="color:var(--accent)">PULSE</span></span>
  <a href="#overview">Overview</a>
  <a href="#competitors">Competitors</a>
  <a href="#pumps">Pump Models</a>
  <a href="#market">Market Data</a>
  <a href="#customers">Customers</a>
  <a href="#predictions">Predictions</a>
  <a href="#technology">Technology</a>
  <a href="#gaps">Opportunities</a>
  <a href="#strategy">Strategy</a>
</nav>

<!-- MARKET OVERVIEW -->
<section id="overview">
<div class="section-label">01 ‚Äî Industry Overview</div>
<h2 class="section-title">The Marine Cryogenic Pump Ecosystem</h2>
<p class="section-desc">Reciprocating cryogenic pumps are the high-pressure backbone of marine fuel gas supply systems. As the maritime industry accelerates its transition from heavy fuel oil to LNG ‚Äî and eyes hydrogen and ammonia ‚Äî these pumps sit at the critical junction of decarbonization and operational reliability.</p>

<div class="flow-section">
<div class="flow-diagram">
  <div class="flow-node"><div class="fn-label">LNG Storage</div><div class="fn-val">-162¬∞C</div></div>
  <div class="flow-arrow">‚Üí</div>
  <div class="flow-node" style="border-color:var(--accent)"><div class="fn-label">Submerged Pump</div><div class="fn-val">Low P Feed</div></div>
  <div class="flow-arrow">‚Üí</div>
  <div class="flow-node" style="border-color:var(--accent2)"><div class="fn-label">Recip. Pump</div><div class="fn-val">‚â§500 bar</div></div>
  <div class="flow-arrow">‚Üí</div>
  <div class="flow-node"><div class="fn-label">Vaporizer</div><div class="fn-val">Gas Phase</div></div>
  <div class="flow-arrow">‚Üí</div>
  <div class="flow-node"><div class="fn-label">ME-GI / X-DF</div><div class="fn-val">Engine</div></div>
</div>
</div>

<div class="chart-grid" style="margin-top:3rem">
  <div class="chart-box">
    <h3>Global Cryogenic Pump Market Size</h3>
    <div class="chart-sub">USD Billions ‚Äî Forecast to 2030</div>
    <div class="chart-wrap"><canvas id="marketSizeChart"></canvas></div>
  </div>
  <div class="chart-box">
    <h3>Marine Segment Breakdown by Application</h3>
    <div class="chart-sub">2025 estimated revenue share</div>
    <div class="chart-wrap"><canvas id="segmentChart"></canvas></div>
  </div>
</div>
</section>

<!-- COMPETITORS -->
<section id="competitors">
<div class="section-label">02 ‚Äî Competitive Landscape</div>
<h2 class="section-title">The Five Dominant Players</h2>
<p class="section-desc">These companies command the marine reciprocating cryogenic pump market through deep engineering expertise, classification society approvals, and installed base advantages. Click a company to explore their portfolio.</p>

<div class="company-grid" id="companyGrid"></div>
<div id="companyDetail"></div>
</section>

<!-- PUMP MODELS -->
<section id="pumps">
<div class="section-label">03 ‚Äî Pump Portfolio Analysis</div>
<h2 class="section-title">Top Marine Pump Models ‚Äî Interactive 3D</h2>
<p class="section-desc">Drag each model to rotate 360¬∞. These represent the flagship reciprocating and submerged pumps each company brings to the marine market, covering both high-pressure ME-GI fuel supply and low-pressure X-DF applications.</p>

<div class="tab-row" id="pumpTabs"></div>
<div id="pumpDisplay"></div>
</section>

<!-- MARKET DATA -->
<section id="market">
<div class="section-label">04 ‚Äî Market Intelligence</div>
<h2 class="section-title">Data-Driven Market Analysis</h2>
<p class="section-desc">Key metrics driving investment and engineering decisions in the marine cryogenic pump sector.</p>

<div class="chart-grid">
  <div class="chart-box">
    <h3>Competitive Market Share ‚Äî Marine Segment</h3>
    <div class="chart-sub">Estimated 2025 installed base & new orders</div>
    <div class="chart-wrap"><canvas id="shareChart"></canvas></div>
  </div>
  <div class="chart-box">
    <h3>LNG-Fueled Vessel Order Book</h3>
    <div class="chart-sub">New vessel orders by year requiring cryo pump FGSS</div>
    <div class="chart-wrap"><canvas id="vesselChart"></canvas></div>
  </div>
  <div class="chart-box">
    <h3>Regional Market Distribution</h3>
    <div class="chart-sub">Revenue contribution by geography ‚Äî 2025</div>
    <div class="chart-wrap"><canvas id="regionChart"></canvas></div>
  </div>
  <div class="chart-box">
    <h3>Technology Mix: High-Pressure vs. Low-Pressure</h3>
    <div class="chart-sub">Shift from LP (X-DF) to HP (ME-GI) systems over time</div>
    <div class="chart-wrap"><canvas id="techMixChart"></canvas></div>
  </div>
</div>

<!-- COMPARISON TABLE -->
<h3 style="margin-top:3rem;margin-bottom:.5rem">Head-to-Head Capability Comparison</h3>
<p class="section-desc" style="margin-bottom:1.5rem">Normalized scoring across critical dimensions (0‚Äì100 scale)</p>
<div class="comp-table-wrap">
<table class="comp-table">
<thead><tr><th>Company</th><th>Max Pressure</th><th>Marine Installed Base</th><th>H‚ÇÇ Readiness</th><th>FGSS Integration</th><th>Service Network</th><th>Innovation Pipeline</th></tr></thead>
<tbody id="compTableBody"></tbody>
</table>
</div>
</section>

<!-- POTENTIAL CUSTOMERS -->
<section id="customers">
<div class="section-label">04b ‚Äî Potential Customers</div>
<h2 class="section-title">Top 20 Marine Pump Buyers: 2026‚Äì2045</h2>
<p class="section-desc">Ranked by estimated cryogenic pump system demand over the next 10‚Äì20 years. Click any customer to explore their fleet, vessel types, planned purchases, and preferred pump suppliers.</p>

<div class="cust-controls">
  <button class="cust-filter active" data-filter="all">All Sectors</button>
  <button class="cust-filter" data-filter="container">Containers</button>
  <button class="cust-filter" data-filter="cruise">Cruise</button>
  <button class="cust-filter" data-filter="carrier">LNG Carriers</button>
  <button class="cust-filter" data-filter="car">Car Carriers</button>
  <button class="cust-filter" data-filter="tanker">Tankers / Bulk</button>
</div>

<div class="cust-list" id="custList"></div>
</section>

<!-- PREDICTIONS -->
<section id="predictions">
<div class="section-label">05 ‚Äî 5-Year Outlook</div>
<h2 class="section-title">Market Predictions 2026‚Äì2031</h2>
<p class="section-desc">Where the market is heading and what engineering teams should prepare for.</p>

<div class="pred-grid" id="predGrid"></div>
</section>

<!-- TECHNOLOGY -->
<section id="technology">
<div class="section-label">06 ‚Äî Technology Roadmap</div>
<h2 class="section-title">Where the Technology is Heading</h2>
<p class="section-desc">A timeline of critical technology shifts that will reshape the reciprocating cryogenic pump industry.</p>

<div class="roadmap" id="roadmap"></div>

<div class="chart-grid" style="margin-top:3rem">
  <div class="chart-box">
    <h3>R&D Investment Focus Areas</h3>
    <div class="chart-sub">Estimated industry spend allocation by technology domain</div>
    <div class="chart-wrap"><canvas id="rdChart"></canvas></div>
  </div>
  <div class="chart-box">
    <h3>Fuel Molecule Adoption Timeline</h3>
    <div class="chart-sub">Projected share of marine fuel gas pump installations</div>
    <div class="chart-wrap"><canvas id="fuelChart"></canvas></div>
  </div>
</div>
</section>

<!-- GAPS -->
<section id="gaps">
<div class="section-label">07 ‚Äî Gap Analysis & Opportunities</div>
<h2 class="section-title">Untapped Opportunities</h2>
<p class="section-desc">Critical market gaps where engineering teams and companies can gain first-mover advantage.</p>

<div class="gap-grid" id="gapGrid"></div>
</section>

<!-- STRATEGIC MATRIX -->
<section id="strategy">
<div class="section-label">08 ‚Äî Strategic Guidance</div>
<h2 class="section-title">Engineering Team Strategy Matrix</h2>
<p class="section-desc">Where to focus engineering resources based on market timing and competitive positioning.</p>

<div class="matrix">
  <div class="matrix-cell matrix-q q1">
    <div class="matrix-label">High Impact ¬∑ Near Term</div>
    <h4>Execute Now</h4>
    <ul>
      <li>HP reciprocating pump efficiency gains (target 500 bar standard)</li>
      <li>FGSS modular skid standardization for retrofit market</li>
      <li>Dual-fuel pump systems for ME-GI + X-DF flexibility</li>
      <li>Digital twin integration for predictive maintenance</li>
      <li>Class approval fast-tracking for existing marine pump lines</li>
    </ul>
  </div>
  <div class="matrix-cell matrix-q q2">
    <div class="matrix-label">High Impact ¬∑ Long Term</div>
    <h4>Invest & Develop</h4>
    <ul>
      <li>Liquid hydrogen (LH‚ÇÇ) reciprocating pump development</li>
      <li>Ammonia-compatible cryogenic pump materials research</li>
      <li>Autonomous pump health monitoring (AI-driven)</li>
      <li>Variable-speed drive integration for energy optimization</li>
      <li>Next-gen seal technology for multi-molecule compatibility</li>
    </ul>
  </div>
  <div class="matrix-cell matrix-q q3">
    <div class="matrix-label">Moderate Impact ¬∑ Near Term</div>
    <h4>Quick Wins</h4>
    <ul>
      <li>After-sales service network expansion in Asia-Pacific</li>
      <li>Spare parts commonality across pump families</li>
      <li>Remote commissioning capability development</li>
      <li>Training & certification programs for shipyard crews</li>
      <li>Bio-LNG compatibility certification for existing pumps</li>
    </ul>
  </div>
  <div class="matrix-cell matrix-q q4">
    <div class="matrix-label">Monitor ¬∑ Emerging</div>
    <h4>Watch & Learn</h4>
    <ul>
      <li>Methanol fuel pump applications (different thermal profile)</li>
      <li>Carbon capture integration with cryogenic systems</li>
      <li>Small modular nuclear vessel pump requirements</li>
      <li>Superconducting marine propulsion cooling systems</li>
      <li>Fully electric cryogenic pump systems for zero-emission vessels</li>
    </ul>
  </div>
</div>
</section>

<footer>
<p style="margin-bottom:.5rem">CRYOPULSE ‚Äî Marine Reciprocating Cryogenic Pump Market Intelligence</p>
<p>By Shadi Mahshi ¬∑ Data compiled from public filings, industry reports, and analyst research. Market figures are estimates. Updated February 2026.</p>
</footer>

<script>
// ==================== DATA ====================
const companies = [
  {
    id:'nikkiso',name:'Nikkiso',sub:'Clean Energy & Industrial Gases',country:'Japan / USA',
    color:'#00e5a0',color2:'#0a3d2e',
    logo:'NK',tag:'Market Leader',
    founded:'1953',employees:'1,800+',vessels:'400+',revenue:'~$800M (Group)',
    desc:'The world leader in marine cryogenic pump systems with the largest installed base of over 400 LNG-fueled vessels. Their acquisition of JC Carter and ACD brought deep reciprocating pump heritage. Recently launched next-gen FGSS for dual-fuel retrofits with SunRui partnership.',
    pumps:[
      {name:'MSP-GU High-Pressure',type:'recip',pressure:'350 bar',flow:'Up to 14 m¬≥/h',config:'Simplex/Duplex/Triplex',app:'ME-GI Fuel Supply',temp:'-162¬∞C (LNG)',color:'#00e5a0'},
      {name:'3-GUPD Marine Series',type:'recip',pressure:'500 bar',flow:'High flow',config:'Triplex',app:'HP Fuel Gas Supply',temp:'-162¬∞C',color:'#00e5a0'},
      {name:'Submerged Motor Pump',type:'sub',pressure:'Low pressure',flow:'20‚Äì3000 m¬≥/h',config:'Single/Multi-stage',app:'LNG Feed & Boost',temp:'-162¬∞C',color:'#00e5a0'},
      {name:'FSRU Booster Pump',type:'cent',pressure:'Medium',flow:'Variable',config:'Multi-stage',app:'FSRU/FLNG Service',temp:'-162¬∞C',color:'#00e5a0'},
      {name:'Next-Gen FGSS Module',type:'recip',pressure:'500 bar',flow:'Modular',config:'Skid-mounted',app:'Dual-Fuel Retrofit',temp:'-162¬∞C',color:'#00e5a0'}
    ],scores:{pressure:95,base:98,h2:65,fgss:95,service:90,innovation:85}
  },
  {
    id:'vanzetti',name:'Vanzetti Engineering',sub:'Cryogenic Pump OEM',country:'Italy',
    color:'#00b8d4',color2:'#0a2d35',
    logo:'VE',tag:'Fastest Growing',
    founded:'1984',employees:'200+',vessels:'250+',revenue:'~‚Ç¨45M (2024)',
    desc:'Italy-based OEM with 30% CAGR growth. Sole supplier for all Carnival LNG cruise ship pumps. Strong in both ARTIKA submerged series and VT-3 high-pressure reciprocating pumps. 70% revenue from Asia, expanding rapidly into marine dual-fuel retrofit and retractable pump segments.',
    pumps:[
      {name:'VT-3 Duplex HP',type:'recip',pressure:'420 bar',flow:'Up to 14 m¬≥/h',config:'Simplex/Duplex/Triplex',app:'ME-GI High Pressure',temp:'-162¬∞C',color:'#00b8d4'},
      {name:'VT-3 Mirrored Series',type:'recip',pressure:'420 bar',flow:'Variable',config:'Mirrored Duplex',app:'Redundant HP Supply',temp:'-162¬∞C',color:'#00b8d4'},
      {name:'ARTIKA 120-3S Marine',type:'sub',pressure:'~6 bar',flow:'Low flow',config:'3-stage submerged',app:'Fuel Gas / Spray Pump',temp:'-162¬∞C',color:'#00b8d4'},
      {name:'ARTIKA 200-6S',type:'sub',pressure:'~55 bar',flow:'30+ m¬≥/h',config:'6-stage submerged',app:'X-DF Engine / FSRU',temp:'-162¬∞C',color:'#00b8d4'},
      {name:'ESK-IMO Retractable',type:'sub',pressure:'Low',flow:'Variable',config:'In-tank retractable',app:'LNG Carrier Cargo',temp:'-162¬∞C',color:'#00b8d4'}
    ],scores:{pressure:88,base:75,h2:45,fgss:80,service:65,innovation:82}
  },
  {
    id:'ebara',name:'Ebara Corporation',sub:'Cryodynamics Division',country:'Japan / USA',
    color:'#6c63ff',color2:'#1a1535',
    logo:'EB',tag:'Heritage Leader',
    founded:'1912',employees:'18,000+ (Group)',vessels:'4000+ marine units',revenue:'~$5B (Group)',
    desc:'Through its Cryodynamics division (now part of Elliott Group), Ebara commands the world\'s leading share in LNG plant cryogenic pumps and has nearly 4,000 marine pump units installed globally. Specialist in submerged electric motor pumps with patented TEM¬Æ thrust balance technology. Expanding into ammonia and hydrogen pump development.',
    pumps:[
      {name:'ECC Land/Marine HP',type:'cent',pressure:'High',flow:'5‚Äì3000 m¬≥/h',config:'Single/Multi-stage',app:'LNG Terminal & Marine',temp:'-162¬∞C',color:'#6c63ff'},
      {name:'Marine Cargo Pump',type:'sub',pressure:'200m head',flow:'20‚Äì3000 m¬≥/h',config:'Tank-mounted submerged',app:'LNG/LPG Carrier',temp:'-162¬∞C',color:'#6c63ff'},
      {name:'Dual-Duty Spray/Fuel',type:'sub',pressure:'Dual point',flow:'Variable',config:'Submerged motor',app:'Spray + Fuel Duty',temp:'-162¬∞C',color:'#6c63ff'},
      {name:'FLNG Booster Pump',type:'cent',pressure:'High',flow:'Large',config:'TEM¬Æ thrust balance',app:'Floating LNG/FSRU',temp:'-162¬∞C',color:'#6c63ff'},
      {name:'Retractable Emergency',type:'sub',pressure:'Emergency',flow:'Variable',config:'Retractable in-tank',app:'Emergency Discharge',temp:'-162¬∞C to LPG',color:'#6c63ff'}
    ],scores:{pressure:70,base:95,h2:55,fgss:60,service:85,innovation:70}
  },
  {
    id:'cryostar',name:'Cryostar',sub:'Fives Group',country:'France',
    color:'#f0c040',color2:'#352d10',
    logo:'CS',tag:'Innovation Pioneer',
    founded:'1967',employees:'500+',vessels:'100+',revenue:'Part of Fives (~‚Ç¨2B)',
    desc:'A Fives Group subsidiary and Europe\'s first cryogenic reciprocating pump manufacturer. Pioneer in FGSS component development, including the Subtran submerged motor pump and MRP high-pressure reciprocating series. Partnered with Cryomotive for liquid hydrogen refueling pump development. Strong in ethane carrier fuel systems.',
    pumps:[
      {name:'MRP Marine Recip.',type:'recip',pressure:'380 bar',flow:'Variable',config:'Skid-mounted',app:'FGSS High Pressure',temp:'-162¬∞C',color:'#f0c040'},
      {name:'SRP Series',type:'recip',pressure:'380 bar',flow:'Medium',config:'Simplex/Duplex/Triplex',app:'LNG/Inert Gas HP',temp:'-162¬∞C',color:'#f0c040'},
      {name:'Subtran Submerged',type:'sub',pressure:'Low',flow:'Variable',config:'Submerged motor',app:'In-tank LNG Feed',temp:'-162¬∞C',color:'#f0c040'},
      {name:'PPC CO‚ÇÇ Series',type:'recip',pressure:'100 bar',flow:'Low-Medium',config:'Basic/Premium',app:'LCO‚ÇÇ / LN‚ÇÇO Marine',temp:'-50¬∞C',color:'#f0c040'},
      {name:'Hy-Filling H‚ÇÇ Pump',type:'recip',pressure:'Ultra-high',flow:'Low',config:'Cryomotive tech',app:'LH‚ÇÇ Refueling R&D',temp:'-253¬∞C',color:'#f0c040'}
    ],scores:{pressure:82,base:55,h2:78,fgss:75,service:70,innovation:90}
  },
  {
    id:'alfalaval',name:'Alfa Laval',sub:'Cryomec¬Æ Division',country:'Switzerland / Sweden',
    color:'#ff6b6b',color2:'#351515',
    logo:'AL',tag:'Diversified Giant',
    founded:'1977 (Cryomec)',employees:'20,000+ (Group)',vessels:'Growing',revenue:'~‚Ç¨5B (Group)',
    desc:'Acquired the Cryomec brand, originally from Switzerland, Alfa Laval brings massive marine industry relationships and a diversified product portfolio. Cryomec¬Æ reciprocating pumps serve LNG, LH‚ÇÇ, and industrial gas markets. 16,000-hour labyrinth seal guarantee and cartridge technology for easy maintenance differentiate their offering.',
    pumps:[
      {name:'Cryomec¬Æ HP Recip.',type:'recip',pressure:'High',flow:'Medium/Low',config:'Simplex/Duplex/Triplex',app:'LNG Marine HP',temp:'-162¬∞C',color:'#ff6b6b'},
      {name:'Cryomec¬Æ MP Recip.',type:'recip',pressure:'Medium',flow:'Medium',config:'Multi-config',app:'Marine Fuel Supply',temp:'-162¬∞C',color:'#ff6b6b'},
      {name:'Cryomec¬Æ VSMP',type:'sub',pressure:'Low',flow:'Up to 8000 L/min',config:'Vertical sealless',app:'LNG Marine Transfer',temp:'-162¬∞C',color:'#ff6b6b'},
      {name:'Cryomec¬Æ LABS',type:'cent',pressure:'Variable',flow:'High',config:'Labyrinth seal',app:'Process/Transfer',temp:'-196¬∞C',color:'#ff6b6b'},
      {name:'Cryomec¬Æ LH‚ÇÇ Pump',type:'recip',pressure:'High',flow:'Low',config:'Specialized',app:'Liquid Hydrogen',temp:'-253¬∞C',color:'#ff6b6b'}
    ],scores:{pressure:78,base:50,h2:70,fgss:65,service:88,innovation:75}
  }
];

const predictions = [
  {type:'bullish',icon:'üìà',title:'LNG Dual-Fuel Retrofits Surge',desc:'The retrofit market for existing vessels will grow 30%+ annually as IMO 2030 targets approach. Reciprocating pump skid manufacturers who can deliver modular, pre-certified FGSS packages will capture the lion\'s share. Expect 2,000+ vessel conversions by 2030.',year:'2026‚Äì2028'},
  {type:'bullish',icon:'üö¢',title:'High-Pressure Systems Dominate',desc:'ME-GI engine adoption is accelerating, shifting the market from 50/50 HP-LP split to 65/35 HP dominance. Reciprocating pumps rated ‚â•400 bar will become standard. Companies without triplex 500-bar capability will lose competitiveness.',year:'2026‚Äì2029'},
  {type:'watch',icon:'‚öóÔ∏è',title:'Hydrogen Marine Pumps Enter Pilot Phase',desc:'Liquid hydrogen bunkering and propulsion trials will begin on short-sea routes. Reciprocating pumps handling -253¬∞C at high pressure will require new metallurgy, seal technology, and safety certifications. First movers have 3‚Äì4 year advantage.',year:'2027‚Äì2030'},
  {type:'watch',icon:'üß™',title:'Ammonia-Ready Pumps Required',desc:'The ammonia as marine fuel movement will demand cryogenic pumps compatible with NH‚ÇÉ (-33¬∞C). While not as extreme as LNG temps, toxicity and corrosion present unique engineering challenges. Classification societies will issue new rules.',year:'2028‚Äì2031'},
  {type:'gap',icon:'ü§ñ',title:'Smart Pumps & Digital Twins Standard',desc:'IoT-enabled cryogenic pumps with real-time performance monitoring and predictive maintenance will become table stakes. Companies integrating AI-driven diagnostics will command 15-20% price premiums.',year:'2026‚Äì2028'},
  {type:'gap',icon:'üåè',title:'Asia-Pacific Manufacturing Shift',desc:'China and South Korea will move from buyers to competitors. Hangzhou-based manufacturing (Nikkiso) and emerging Chinese OEMs will reshape cost structures. Western companies must differentiate on technology or risk margin compression.',year:'2026‚Äì2030'},
  {type:'risk',icon:'‚ö†Ô∏è',title:'US Tariff Impact on Supply Chains',desc:'2025 tariffs on imported cryogenic pump components are forcing supply chain re-evaluation. Companies dependent on single-region manufacturing face 8-15% cost increases, driving nearshoring strategies.',year:'2026‚Äì2027'},
  {type:'bullish',icon:'‚ôªÔ∏è',title:'Bio-LNG & Synthetic Fuels Compatibility',desc:'Bio-LNG and e-methane will require zero hardware changes to existing LNG pump systems, offering the installed base an extended lifecycle. Certifying existing pumps for bio-LNG is a low-cost revenue opportunity.',year:'2026‚Äì2028'}
];

const roadmap = [
  {year:'2026',title:'Modular FGSS Standardization',desc:'Pre-engineered, class-approved pump skid packages become the norm. Plug-and-play systems reduce retrofit timelines from months to weeks. Focus on 500-bar standardization for ME-GI.'},
  {year:'2027',title:'Digital Health Monitoring Integration',desc:'Embedded IoT sensors become standard in all new marine reciprocating pumps. Digital twins enable remote diagnostics, predictive seal replacement, and performance optimization.'},
  {year:'2028',title:'Multi-Molecule Pump Platforms',desc:'First commercially available reciprocating pumps certified for both LNG and LH‚ÇÇ service. New austenitic stainless steel alloys and advanced PTFE/polymer seals enable molecule-flexible operation.'},
  {year:'2029',title:'Ammonia-Compatible Systems',desc:'IMO regulations finalize ammonia fuel requirements. Dedicated NH‚ÇÉ cryogenic pump designs address toxicity, corrosion resistance, and double-barrier safety. Retrofit kits for existing HP pump cold-ends launched.'},
  {year:'2030‚Äì31',title:'Autonomous Pump Operation',desc:'AI-driven pump control systems autonomously adjust to fuel composition changes, optimize energy consumption, and predict maintenance windows. Variable-speed drives fully integrated into reciprocating pump architecture.'}
];

const gaps = [
  {title:'Liquid Hydrogen Marine Pump',desc:'No commercially available, class-approved reciprocating pump exists for marine LH‚ÇÇ service at -253¬∞C. First to achieve DNV/Lloyd\'s type approval will dominate a nascent but exponentially growing market.',opp:'$200M+ potential by 2032'},
  {title:'Retrofit FGSS Plug-and-Play Kits',desc:'Most FGSS integrations are still custom-engineered. A standardized, modular, containerized pump-skid system with universal mounting could reduce conversion costs by 40% and lead times by 60%.',opp:'2,000+ vessel conversion market'},
  {title:'Multi-Fuel Flexible Pump Cold-End',desc:'Current pumps are optimized for a single molecule. A hot-swappable cold-end design allowing the same crankcase to serve LNG, LH‚ÇÇ, or NH‚ÇÉ would be a game-changer for shipowners hedging fuel bets.',opp:'Eliminates re-investment risk'},
  {title:'Aftermarket Digital Services Platform',desc:'None of the five leaders offer a comprehensive cloud-based pump monitoring SaaS. Remote diagnostics, parts ordering, and performance benchmarking represents a recurring revenue stream.',opp:'$50M annual SaaS potential'},
  {title:'Small-Scale Bunkering Pumps',desc:'The LNG bunkering vessel fleet is growing rapidly but pump solutions remain oversized. Purpose-built compact reciprocating pumps optimized for truck-to-ship and barge bunkering are underserved.',opp:'Growing infrastructure gap'},
  {title:'Integrated Carbon Capture Cryogenics',desc:'Onboard carbon capture requires cryogenic liquefaction of CO‚ÇÇ. Combining pump expertise with CCS creates a new equipment category: marine cryo pump + liquefaction packages.',opp:'Regulatory-driven demand post-2028'}
];

// ==================== RENDER COMPANIES ====================
const grid = document.getElementById('companyGrid');
companies.forEach((c,i) => {
  const card = document.createElement('div');
  card.className = 'company-card glow-border';
  card.dataset.idx = i;
  card.innerHTML = `
    <div class="company-logo" style="background:${c.color2};color:${c.color};border:1px solid ${c.color}30">${c.logo}</div>
    <div class="company-name">${c.name}</div>
    <div class="company-country">${c.country}</div>
    <div class="company-tag">${c.tag}</div>
  `;
  card.onclick = () => selectCompany(i);
  grid.appendChild(card);
});

function selectCompany(idx){
  document.querySelectorAll('.company-card').forEach(c=>c.classList.remove('active'));
  document.querySelectorAll('.company-card')[idx].classList.add('active');
  const c = companies[idx];
  const detail = document.getElementById('companyDetail');
  detail.innerHTML = `
    <div class="company-detail active">
      <div class="detail-header">
        <div class="detail-info">
          <h2 style="color:${c.color}">${c.name}</h2>
          <p style="font-size:.85rem;color:var(--text3);margin-bottom:.5rem">${c.sub}</p>
          <p>${c.desc}</p>
          <div class="detail-stats">
            <div class="detail-stat"><div class="v">${c.founded}</div><div class="l">Founded</div></div>
            <div class="detail-stat"><div class="v">${c.employees}</div><div class="l">Employees</div></div>
            <div class="detail-stat"><div class="v">${c.vessels}</div><div class="l">Vessel Units</div></div>
            <div class="detail-stat"><div class="v">${c.revenue}</div><div class="l">Revenue</div></div>
          </div>
        </div>
      </div>
    </div>
  `;
  // also switch pump tab
  selectPumpTab(idx);
}

// ==================== PUMP TABS ====================
const pumpTabs = document.getElementById('pumpTabs');
companies.forEach((c,i) => {
  const btn = document.createElement('button');
  btn.className = 'tab-btn' + (i===0?' active':'');
  btn.textContent = c.name;
  btn.onclick = () => selectPumpTab(i);
  pumpTabs.appendChild(btn);
});

function selectPumpTab(idx){
  document.querySelectorAll('.tab-btn').forEach((b,i)=>b.classList.toggle('active',i===idx));
  const c = companies[idx];
  const display = document.getElementById('pumpDisplay');
  display.innerHTML = '';
  const pgrid = document.createElement('div');
  pgrid.className = 'pump-grid';
  c.pumps.forEach((p,pi) => {
    const card = document.createElement('div');
    card.className = 'pump-card';
    const typeClass = p.type==='recip'?'recip':(p.type==='sub'?'sub':'cent');
    const typeLabel = p.type==='recip'?'RECIPROCATING':(p.type==='sub'?'SUBMERGED':'CENTRIFUGAL');
    card.innerHTML = `
      <div class="pump-3d" id="pump3d-${idx}-${pi}">
        <div class="drag-hint">‚ü≤ DRAG TO ROTATE</div>
      </div>
      <div class="pump-info">
        <span class="pump-type-badge ${typeClass}">${typeLabel}</span>
        <div class="pump-name" style="margin-top:.5rem">${p.name}</div>
        <div class="pump-specs">
          <div class="pump-spec"><strong>Pressure:</strong> ${p.pressure}</div>
          <div class="pump-spec"><strong>Flow:</strong> ${p.flow}</div>
          <div class="pump-spec"><strong>Config:</strong> ${p.config}</div>
          <div class="pump-spec"><strong>Temp:</strong> ${p.temp}</div>
        </div>
        <div style="font-size:.75rem;color:var(--text3);margin-top:.5rem">Application: ${p.app}</div>
      </div>
    `;
    pgrid.appendChild(card);
  });
  display.appendChild(pgrid);
  // init 3D for each pump
  setTimeout(()=>{
    c.pumps.forEach((p,pi)=>init3DPump(`pump3d-${idx}-${pi}`,p.color,p.type,pi));
  },100);
}

// ==================== 3D PUMP MODEL ====================
function init3DPump(containerId, color, type, variation){
  const container = document.getElementById(containerId);
  if(!container)return;
  const w = container.clientWidth, h = container.clientHeight;
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(35,w/h,0.1,100);
  camera.position.set(0,0,5);
  const renderer = new THREE.WebGLRenderer({antialias:true,alpha:true});
  renderer.setSize(w,h);
  renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));
  container.insertBefore(renderer.domElement,container.firstChild);

  const mainColor = new THREE.Color(color);
  const darkColor = new THREE.Color(color).multiplyScalar(0.3);

  const group = new THREE.Group();

  if(type==='recip'){
    // Reciprocating pump model
    // Main cylinder body
    const bodyGeo = new THREE.CylinderGeometry(0.4,0.4,1.8,16);
    const bodyMat = new THREE.MeshStandardMaterial({color:mainColor,metalness:0.7,roughness:0.3});
    const body = new THREE.Mesh(bodyGeo,bodyMat);
    body.rotation.z = Math.PI/2;
    group.add(body);

    // Crankcase housing
    const crankGeo = new THREE.BoxGeometry(0.9,0.7,0.7);
    const crankMat = new THREE.MeshStandardMaterial({color:darkColor,metalness:0.8,roughness:0.2});
    const crank = new THREE.Mesh(crankGeo,crankMat);
    crank.position.set(-1.1,0,0);
    group.add(crank);

    // Piston rod
    const rodGeo = new THREE.CylinderGeometry(0.08,0.08,1.2,8);
    const rodMat = new THREE.MeshStandardMaterial({color:0xaaaaaa,metalness:0.9,roughness:0.1});
    const rod = new THREE.Mesh(rodGeo,rodMat);
    rod.rotation.z = Math.PI/2;
    rod.position.set(-0.3,0,0);
    group.add(rod);

    // Valve head
    const valveGeo = new THREE.CylinderGeometry(0.5,0.45,0.3,16);
    const valve = new THREE.Mesh(valveGeo,bodyMat.clone());
    valve.rotation.z = Math.PI/2;
    valve.position.set(1.05,0,0);
    group.add(valve);

    // Flanges
    for(let f=-1;f<=1;f+=2){
      const flangeGeo = new THREE.CylinderGeometry(0.55,0.55,0.08,16);
      const flange = new THREE.Mesh(flangeGeo,crankMat.clone());
      flange.rotation.z = Math.PI/2;
      flange.position.set(f*0.6,0,0);
      group.add(flange);
    }

    // Inlet/outlet ports
    const portGeo = new THREE.CylinderGeometry(0.15,0.15,0.5,8);
    const port1 = new THREE.Mesh(portGeo,rodMat.clone());
    port1.position.set(0.5,0.5,0);
    group.add(port1);
    const port2 = new THREE.Mesh(portGeo.clone(),rodMat.clone());
    port2.position.set(0.5,-0.5,0);
    group.add(port2);

    // Motor/drive
    const motorGeo = new THREE.CylinderGeometry(0.35,0.35,0.6,12);
    const motor = new THREE.Mesh(motorGeo,new THREE.MeshStandardMaterial({color:0x333340,metalness:0.6,roughness:0.4}));
    motor.rotation.z = Math.PI/2;
    motor.position.set(-1.7,0,0);
    group.add(motor);

    // Vacuum jacket (wireframe)
    const jacketGeo = new THREE.CylinderGeometry(0.52,0.52,1.6,16,1,true);
    const jacketMat = new THREE.MeshBasicMaterial({color:mainColor,wireframe:true,opacity:0.15,transparent:true});
    const jacket = new THREE.Mesh(jacketGeo,jacketMat);
    jacket.rotation.z = Math.PI/2;
    group.add(jacket);

  } else if(type==='sub'){
    // Submerged pump - vertical design
    // Main column
    const colGeo = new THREE.CylinderGeometry(0.25,0.25,2.5,12);
    const colMat = new THREE.MeshStandardMaterial({color:mainColor,metalness:0.7,roughness:0.3});
    const col = new THREE.Mesh(colGeo,colMat);
    group.add(col);

    // Motor housing (bottom)
    const motGeo = new THREE.CylinderGeometry(0.4,0.4,0.8,16);
    const mot = new THREE.Mesh(motGeo,new THREE.MeshStandardMaterial({color:darkColor,metalness:0.8,roughness:0.2}));
    mot.position.y = -1.2;
    group.add(mot);

    // Impeller section
    const impGeo = new THREE.CylinderGeometry(0.35,0.3,0.4,16);
    const imp = new THREE.Mesh(impGeo,colMat.clone());
    imp.position.y = -0.4;
    group.add(imp);

    // Top flange
    const topGeo = new THREE.CylinderGeometry(0.5,0.5,0.1,16);
    const top = new THREE.Mesh(topGeo,new THREE.MeshStandardMaterial({color:0x444450,metalness:0.9,roughness:0.1}));
    top.position.y = 1.3;
    group.add(top);

    // Discharge pipe
    const pipeGeo = new THREE.CylinderGeometry(0.12,0.12,0.8,8);
    const pipe = new THREE.Mesh(pipeGeo,new THREE.MeshStandardMaterial({color:0xaaaaaa,metalness:0.8,roughness:0.2}));
    pipe.rotation.z = Math.PI/2;
    pipe.position.set(0.5,0.8,0);
    group.add(pipe);

    // Suction strainer (bottom)
    const strGeo = new THREE.CylinderGeometry(0.42,0.35,0.3,16,1,true);
    const str = new THREE.Mesh(strGeo,new THREE.MeshBasicMaterial({color:mainColor,wireframe:true,opacity:0.3,transparent:true}));
    str.position.y = -1.7;
    group.add(str);

    // Cable
    const cableGeo = new THREE.CylinderGeometry(0.03,0.03,2.5,4);
    const cable = new THREE.Mesh(cableGeo,new THREE.MeshStandardMaterial({color:0x222222}));
    cable.position.set(0.3,0,0);
    group.add(cable);

  } else {
    // Centrifugal pump
    // Volute casing (spiral-like)
    const voluteGeo = new THREE.TorusGeometry(0.6,0.3,12,24);
    const voluteMat = new THREE.MeshStandardMaterial({color:mainColor,metalness:0.7,roughness:0.3});
    const volute = new THREE.Mesh(voluteGeo,voluteMat);
    volute.rotation.x = Math.PI/2;
    group.add(volute);

    // Center hub
    const hubGeo = new THREE.CylinderGeometry(0.3,0.3,0.5,16);
    const hub = new THREE.Mesh(hubGeo,new THREE.MeshStandardMaterial({color:darkColor,metalness:0.8,roughness:0.2}));
    hub.rotation.x = Math.PI/2;
    group.add(hub);

    // Inlet
    const inGeo = new THREE.CylinderGeometry(0.2,0.2,0.8,8);
    const inp = new THREE.Mesh(inGeo,new THREE.MeshStandardMaterial({color:0xaaaaaa,metalness:0.8,roughness:0.2}));
    inp.position.set(0,0,0.6);
    group.add(inp);

    // Outlet
    const outGeo = new THREE.CylinderGeometry(0.15,0.15,0.7,8);
    const outp = new THREE.Mesh(outGeo,new THREE.MeshStandardMaterial({color:0xaaaaaa,metalness:0.8,roughness:0.2}));
    outp.rotation.z = Math.PI/2;
    outp.position.set(0.8,0.3,0);
    group.add(outp);

    // Base plate
    const baseGeo = new THREE.BoxGeometry(2,0.08,1.2);
    const base = new THREE.Mesh(baseGeo,new THREE.MeshStandardMaterial({color:0x333340,metalness:0.5,roughness:0.5}));
    base.position.y = -0.7;
    group.add(base);

    // Motor
    const mGeo = new THREE.CylinderGeometry(0.3,0.3,0.8,12);
    const m = new THREE.Mesh(mGeo,new THREE.MeshStandardMaterial({color:0x333340,metalness:0.6,roughness:0.4}));
    m.rotation.x = Math.PI/2;
    m.position.set(-0.7,0,0);
    group.add(m);
  }

  // Slight variation per pump
  group.rotation.y = variation * 0.3;
  scene.add(group);

  // Lighting
  const amb = new THREE.AmbientLight(0xffffff,0.4);
  scene.add(amb);
  const dir = new THREE.DirectionalLight(0xffffff,0.8);
  dir.position.set(3,3,3);
  scene.add(dir);
  const rim = new THREE.DirectionalLight(new THREE.Color(color),0.3);
  rim.position.set(-3,-1,2);
  scene.add(rim);

  // Mouse drag rotation
  let isDragging = false, prevX = 0, prevY = 0;
  let rotVelX = 0, rotVelY = 0.003;

  container.addEventListener('mousedown',e=>{isDragging=true;prevX=e.clientX;prevY=e.clientY;rotVelY=0;rotVelX=0;});
  container.addEventListener('touchstart',e=>{isDragging=true;prevX=e.touches[0].clientX;prevY=e.touches[0].clientY;rotVelY=0;rotVelX=0;},{passive:true});
  
  window.addEventListener('mouseup',()=>{isDragging=false});
  window.addEventListener('touchend',()=>{isDragging=false});
  
  container.addEventListener('mousemove',e=>{
    if(!isDragging)return;
    const dx = e.clientX-prevX, dy = e.clientY-prevY;
    rotVelY = dx*0.008; rotVelX = dy*0.008;
    prevX=e.clientX; prevY=e.clientY;
  });
  container.addEventListener('touchmove',e=>{
    if(!isDragging)return;
    const dx = e.touches[0].clientX-prevX, dy = e.touches[0].clientY-prevY;
    rotVelY = dx*0.008; rotVelX = dy*0.008;
    prevX=e.touches[0].clientX; prevY=e.touches[0].clientY;
  },{passive:true});

  function animate(){
    requestAnimationFrame(animate);
    if(!isDragging){
      rotVelY *= 0.97;
      rotVelX *= 0.95;
      if(Math.abs(rotVelY)<0.001) rotVelY = 0.003;
    }
    group.rotation.y += rotVelY;
    group.rotation.x += rotVelX;
    renderer.render(scene,camera);
  }
  animate();
}

// Init first pump tab
selectPumpTab(0);

// ==================== COMPARISON TABLE ====================
const tableBody = document.getElementById('compTableBody');
companies.forEach(c=>{
  const row = document.createElement('tr');
  const dims = ['pressure','base','h2','fgss','service','innovation'];
  row.innerHTML = `<td><strong style="color:${c.color}">${c.name}</strong></td>` +
    dims.map(d=>`<td><div class="bar-cell"><div class="bar-fill" style="width:${c.scores[d]}%;background:linear-gradient(90deg,${c.color},${c.color}88)"></div><span class="bar-val">${c.scores[d]}</span></div></td>`).join('');
  tableBody.appendChild(row);
});

// ==================== PREDICTIONS ====================
const predGrid = document.getElementById('predGrid');
predictions.forEach(p=>{
  const card = document.createElement('div');
  card.className = `pred-card ${p.type}`;
  card.innerHTML = `<div class="pred-icon">${p.icon}</div><h4>${p.title}</h4><p>${p.desc}</p><div class="pred-year">${p.year}</div>`;
  predGrid.appendChild(card);
});

// ==================== ROADMAP ====================
const roadmapEl = document.getElementById('roadmap');
roadmap.forEach((r,ri)=>{
  const item = document.createElement('div');
  item.className = 'roadmap-item' + (ri===0?' expandable':'');
  
  if(ri===0){
    // SPECIAL: First item is the expandable FGSS deep-dive
    item.innerHTML = `
      <div class="roadmap-year">${r.year}</div>
      <div class="roadmap-title">${r.title}</div>
      <div class="roadmap-desc">${r.desc} <span class="click-hint">CLICK TO EXPLORE</span></div>
      <div class="expand-panel" id="fgssPanel">
        <div class="expand-inner">

          <!-- KEY STATS CALLOUT -->
          <div class="fgss-callout">
            <div class="fgss-callout-stat"><div class="cs-val">400+</div><div class="cs-lbl">Vessels with FGSS</div></div>
            <div class="fgss-callout-stat"><div class="cs-val">>500K</div><div class="cs-lbl">HP Operating Hours</div></div>
            <div class="fgss-callout-stat"><div class="cs-val">500 bar</div><div class="cs-lbl">Next-Gen Target</div></div>
            <div class="fgss-callout-stat"><div class="cs-val">40+</div><div class="cs-lbl">Ships >380 bar</div></div>
            <div class="fgss-callout-stat"><div class="cs-val">~60%</div><div class="cs-lbl">HP Shift by 2026</div></div>
          </div>

          <!-- WHAT IS FGSS -->
          <div class="fgss-section">
            <div class="fgss-section-label">What is a Fuel Gas Supply System (FGSS)?</div>
            <p style="font-size:.85rem;color:var(--text2);max-width:800px;margin-bottom:1rem;line-height:1.6">
              A Fuel Gas Supply System is the complete package that takes LNG from the ship's fuel tank and delivers it as high-pressure gas to the engine. It's the critical link between stored cryogenic liquid and propulsion. A modular FGSS typically includes: a submerged or low-pressure feed pump in the tank, a high-pressure reciprocating cryogenic pump (the core component), a vaporizer/heat exchanger, a gas valve unit (GVU), and a control & safety system ‚Äî all mounted on pre-engineered skids.
            </p>
            <p style="font-size:.85rem;color:var(--text2);max-width:800px;margin-bottom:1.5rem;line-height:1.6">
              The push toward <strong style="color:var(--accent)">modular standardization</strong> means these systems ship as pre-tested, class-approved plug-and-play units ‚Äî dramatically reducing shipyard integration time from months to weeks. This is the single biggest trend accelerating the dual-fuel retrofit market.
            </p>
          </div>

          <!-- INDUSTRY PROGRESS BARS -->
          <div class="fgss-section">
            <div class="fgss-section-label">Industry Standardization Progress</div>
            <div class="fgss-progress-row"><span class="fgss-progress-label">HP Pump Standardization (‚â•400 bar)</span><div class="fgss-progress-track"><div class="fgss-progress-fill" style="width:72%;background:linear-gradient(90deg,var(--accent),var(--accent2))" data-width="72"></div></div><span class="fgss-progress-val">72%</span></div>
            <div class="fgss-progress-row"><span class="fgss-progress-label">Modular Skid Pre-certification</span><div class="fgss-progress-track"><div class="fgss-progress-fill" style="width:58%;background:linear-gradient(90deg,var(--accent),var(--accent2))" data-width="58"></div></div><span class="fgss-progress-val">58%</span></div>
            <div class="fgss-progress-row"><span class="fgss-progress-label">Plug-and-Play Retrofit Kits</span><div class="fgss-progress-track"><div class="fgss-progress-fill" style="width:35%;background:linear-gradient(90deg,#f0c040,#f0c04088)" data-width="35"></div></div><span class="fgss-progress-val">35%</span></div>
            <div class="fgss-progress-row"><span class="fgss-progress-label">Digital Twin Integration</span><div class="fgss-progress-track"><div class="fgss-progress-fill" style="width:28%;background:linear-gradient(90deg,#6c63ff,#6c63ff88)" data-width="28"></div></div><span class="fgss-progress-val">28%</span></div>
            <div class="fgss-progress-row"><span class="fgss-progress-label">Multi-Fuel Flexibility (LNG+H‚ÇÇ+NH‚ÇÉ)</span><div class="fgss-progress-track"><div class="fgss-progress-fill" style="width:15%;background:linear-gradient(90deg,var(--warn),var(--warn))" data-width="15"></div></div><span class="fgss-progress-val">15%</span></div>
            <div class="fgss-progress-row"><span class="fgss-progress-label">500-bar Marine Deployment</span><div class="fgss-progress-track"><div class="fgss-progress-fill" style="width:20%;background:linear-gradient(90deg,var(--accent),var(--accent))" data-width="20"></div></div><span class="fgss-progress-val">20%</span></div>
          </div>

          <!-- EVOLUTION TIMELINE -->
          <div class="fgss-section">
            <div class="fgss-section-label">FGSS Evolution Timeline</div>
            <div class="fgss-timeline">
              <div class="fgss-tl-item past"><span class="tl-year">2015</span><span class="tl-event">First ME-GI FGSS deployed on containerships</span></div>
              <div class="fgss-tl-item past"><span class="tl-year">2019</span><span class="tl-event">Cryostar ethane FGSS for gas carriers with DNV approval</span></div>
              <div class="fgss-tl-item past"><span class="tl-year">2021</span><span class="tl-event">HP orders surge: 50/50 HP vs LP split. MHI gets first Imabari orders</span></div>
              <div class="fgss-tl-item past"><span class="tl-year">2023</span><span class="tl-event">MHI secures 18-unit FGSS order. Modular skid designs mainstream</span></div>
              <div class="fgss-tl-item current"><span class="tl-year" style="color:var(--accent)">2025‚Äì26</span><span class="tl-event">Nikkiso launches next-gen FGSS. 500-bar capability. SunRui partnership</span></div>
              <div class="fgss-tl-item future"><span class="tl-year">2027+</span><span class="tl-event">Multi-fuel FGSS for LNG/NH‚ÇÉ/H‚ÇÇ. AI-driven autonomous control</span></div>
            </div>
          </div>

          <!-- AVAILABLE PRODUCTS -->
          <div class="fgss-section">
            <div class="fgss-section-label">Available Modular FGSS Products & Systems</div>
            <div class="fgss-grid">

              <div class="fgss-card">
                <div class="fgss-status newlaunch">NEW ¬∑ 2025</div>
                <div class="fgss-vendor" style="background:rgba(0,229,160,.1);color:var(--accent)">Nikkiso CE&IG</div>
                <h5>Next-Gen High-Pressure FGSS</h5>
                <p>Launched end of 2025. Engineered to sustain pressures beyond 420 bar. Built on 500,000+ operating hours of field data from 40+ vessels. Designed for LNG, ethane, ammonia, and hydrogen compatibility. Partnership with SunRui for large-scale dual-fuel retrofit program.</p>
                <div style="margin-top:.5rem">
                  <span class="engine-badge megi">ME-GI</span>
                  <span class="engine-badge xdf">X-DF</span>
                  <span class="engine-badge multi">MULTI-FUEL</span>
                </div>
                <div class="fgss-specs">
                  <div class="fgss-spec"><strong>Pressure:</strong> <span>>420‚Äì500 bar</span></div>
                  <div class="fgss-spec"><strong>Pump:</strong> <span>MSP-GU / 3-GUPD</span></div>
                  <div class="fgss-spec"><strong>Config:</strong> <span>Modular Skid</span></div>
                  <div class="fgss-spec"><strong>Vessels:</strong> <span>400+ installed</span></div>
                </div>
              </div>

              <div class="fgss-card">
                <div class="fgss-status shipping">SHIPPING</div>
                <div class="fgss-vendor" style="background:rgba(0,229,160,.1);color:var(--accent)">Nikkiso CE&IG</div>
                <h5>HP Marine Fuel Module (500 bar)</h5>
                <p>Newest module engineered specifically for two-stroke ME-GI plants. Elevates discharge to 500 bar with wide turndown and suction stability. Enables yards and FGSS integrators to standardize on a single, future-proof platform for current and upcoming engine variants.</p>
                <div style="margin-top:.5rem">
                  <span class="engine-badge megi">ME-GI</span>
                </div>
                <div class="fgss-specs">
                  <div class="fgss-spec"><strong>Pressure:</strong> <span>500 bar</span></div>
                  <div class="fgss-spec"><strong>Type:</strong> <span>Reciprocating HP</span></div>
                  <div class="fgss-spec"><strong>Target:</strong> <span>2-stroke ME-GI</span></div>
                  <div class="fgss-spec"><strong>Status:</strong> <span>Active orders</span></div>
                </div>
              </div>

              <div class="fgss-card">
                <div class="fgss-status active">ACTIVE</div>
                <div class="fgss-vendor" style="background:rgba(0,184,212,.1);color:var(--accent2)">Vanzetti Engineering</div>
                <h5>VT-3 Duplex HP FGSS Skid</h5>
                <p>Class-approved high-pressure skid system integrating VT-3 duplex reciprocating pumps with all sensors, instruments, and safety valves. 420 bar max. Sole supplier for Carnival LNG cruise ships. Rapidly growing in Asian container and bulk carrier market ‚Äî 50% of orders now HP.</p>
                <div style="margin-top:.5rem">
                  <span class="engine-badge megi">ME-GI</span>
                  <span class="engine-badge xdf">X-DF</span>
                </div>
                <div class="fgss-specs">
                  <div class="fgss-spec"><strong>Pressure:</strong> <span>Up to 420 bar</span></div>
                  <div class="fgss-spec"><strong>Pump:</strong> <span>VT-3 Duplex/Triplex</span></div>
                  <div class="fgss-spec"><strong>Flow:</strong> <span>Up to 14 m¬≥/h</span></div>
                  <div class="fgss-spec"><strong>Revenue:</strong> <span>‚Ç¨45M (2024, +30% CAGR)</span></div>
                </div>
              </div>

              <div class="fgss-card">
                <div class="fgss-status active">ACTIVE</div>
                <div class="fgss-vendor" style="background:rgba(0,184,212,.1);color:var(--accent2)">Vanzetti Engineering</div>
                <h5>ARTIKA LP Marine Fuel System</h5>
                <p>Submerged centrifugal pump series for low-pressure X-DF and 4-stroke DF engine supply. Seal-less design means zero wear parts and permanent cold readiness. Models from ARTIKA 120-3S (small ships) to ARTIKA 400 (546 m¬≥/h). In-sump or in-tank mounting. Worldwide marine class approval.</p>
                <div style="margin-top:.5rem">
                  <span class="engine-badge xdf">X-DF / WinGD</span>
                  <span class="engine-badge dfde">4-stroke DF</span>
                </div>
                <div class="fgss-specs">
                  <div class="fgss-spec"><strong>Pressure:</strong> <span>Up to 55 bar</span></div>
                  <div class="fgss-spec"><strong>Range:</strong> <span>120 to 400 series</span></div>
                  <div class="fgss-spec"><strong>Design:</strong> <span>Seal-less submerged</span></div>
                  <div class="fgss-spec"><strong>Key client:</strong> <span>Carnival Corp, Siem</span></div>
                </div>
              </div>

              <div class="fgss-card">
                <div class="fgss-status shipping">SHIPPING</div>
                <div class="fgss-vendor" style="background:rgba(240,192,64,.1);color:#f0c040">Mitsubishi Heavy Industries</div>
                <h5>MHI High-Pressure FGSS Module</h5>
                <p>Modular design optimized for cargo space with exceptional space-saving and maintenance access. Proprietary control system customizable to operator needs. 20+ units delivered/ordered for Imabari-built car carriers and bulk carriers. Sweet Pea Leader and Daisy Leader already in service since 2023/24.</p>
                <div style="margin-top:.5rem">
                  <span class="engine-badge megi">ME-GI</span>
                </div>
                <div class="fgss-specs">
                  <div class="fgss-spec"><strong>Pressure:</strong> <span>High (ME-GI rated)</span></div>
                  <div class="fgss-spec"><strong>Orders:</strong> <span>20+ units to Imabari</span></div>
                  <div class="fgss-spec"><strong>Vessels:</strong> <span>Car carriers, bulkers</span></div>
                  <div class="fgss-spec"><strong>Status:</strong> <span>In-service + on order</span></div>
                </div>
              </div>

              <div class="fgss-card">
                <div class="fgss-status active">ACTIVE</div>
                <div class="fgss-vendor" style="background:rgba(240,192,64,.1);color:#f0c040">Cryostar ¬∑ Fives Group</div>
                <h5>MRP + Subtran FGSS Package</h5>
                <p>Complete FGSS comprising Subtran submerged motor pumps (in-tank) plus MRP high-pressure reciprocating pumps on dedicated skids, with HP vaporizer and glycol heating loop. First deployed on ethane dual-fuel gas carriers (US‚ÜíEurope routes). DNV design-approved. Proven in ethane, LNG, and LPG service.</p>
                <div style="margin-top:.5rem">
                  <span class="engine-badge megi">ME-GI</span>
                  <span class="engine-badge multi">ETHANE</span>
                </div>
                <div class="fgss-specs">
                  <div class="fgss-spec"><strong>HP Pump:</strong> <span>MRP series, 380 bar</span></div>
                  <div class="fgss-spec"><strong>LP Pump:</strong> <span>Subtran submerged</span></div>
                  <div class="fgss-spec"><strong>Class:</strong> <span>DNV-GL approved</span></div>
                  <div class="fgss-spec"><strong>Fuels:</strong> <span>LNG, Ethane, LPG</span></div>
                </div>
              </div>

              <div class="fgss-card">
                <div class="fgss-status active">ACTIVE</div>
                <div class="fgss-vendor" style="background:rgba(255,107,107,.1);color:var(--warn)">Kongsberg Maritime</div>
                <h5>KONGSBERG LNG-FGSS Complete System</h5>
                <p>Turnkey system including IMO-C type vacuum/perlite insulated LNG tank, Tank Connection Space (TCS) with all process equipment welded to tank end, bunker station skid, and integrated control & safety system. Designed for 6‚Äì16 barg supply to dual-fuel and pure gas engines. Minimized onboard footprint.</p>
                <div style="margin-top:.5rem">
                  <span class="engine-badge xdf">X-DF</span>
                  <span class="engine-badge dfde">Pure Gas / DF</span>
                </div>
                <div class="fgss-specs">
                  <div class="fgss-spec"><strong>Pressure:</strong> <span>6‚Äì16 barg (LP)</span></div>
                  <div class="fgss-spec"><strong>Tank:</strong> <span>IMO-C type</span></div>
                  <div class="fgss-spec"><strong>Compliance:</strong> <span>IMO IGF, Class rules</span></div>
                  <div class="fgss-spec"><strong>Type:</strong> <span>Turnkey complete</span></div>
                </div>
              </div>

              <div class="fgss-card">
                <div class="fgss-status active">ACTIVE</div>
                <div class="fgss-vendor" style="background:rgba(108,99,255,.1);color:var(--accent3)">HHI Engine & Machinery</div>
                <h5>Hyundai High-Pressure FGSS</h5>
                <p>HP pump increases LNG pressure up to 300 bar for ME-GI engines. Motor controlled by VFD for variable speed. Gear or belt driven options. Includes LNG fuel vaporizer with water/glycol brine heat exchange (-150¬∞C inlet to 45¬∞C outlet). Forcing vaporizing system for X-DF methane number requirements.</p>
                <div style="margin-top:.5rem">
                  <span class="engine-badge megi">ME-GI</span>
                  <span class="engine-badge xdf">X-DF</span>
                  <span class="engine-badge dfde">HiMSEN DF</span>
                </div>
                <div class="fgss-specs">
                  <div class="fgss-spec"><strong>Pressure:</strong> <span>Up to 300 bar</span></div>
                  <div class="fgss-spec"><strong>Drive:</strong> <span>VFD, gear/belt</span></div>
                  <div class="fgss-spec"><strong>Outlet temp:</strong> <span>45 ¬±10¬∞C</span></div>
                  <div class="fgss-spec"><strong>Engines:</strong> <span>ME-GI, X-DF, HiMSEN</span></div>
                </div>
              </div>

              <div class="fgss-card">
                <div class="fgss-status development">R&D ¬∑ 2027+</div>
                <div class="fgss-vendor" style="background:rgba(0,229,160,.1);color:var(--accent)">Nikkiso CE&IG</div>
                <h5>Multi-Fuel FGSS (LNG + NH‚ÇÉ + H‚ÇÇ)</h5>
                <p>Announced as part of future-proof strategy. Designed to sustain pressures beyond current standards regardless of fuel source. Leverages tens of millions of operating hours in onshore high-pressure applications. Targets compatibility with next-generation marine engines as shipbuilders transition to ammonia and hydrogen.</p>
                <div style="margin-top:.5rem">
                  <span class="engine-badge multi">MULTI-FUEL</span>
                  <span class="engine-badge megi">NEXT-GEN</span>
                </div>
                <div class="fgss-specs">
                  <div class="fgss-spec"><strong>Pressure:</strong> <span>>500 bar target</span></div>
                  <div class="fgss-spec"><strong>Fuels:</strong> <span>LNG, NH‚ÇÉ, H‚ÇÇ, Ethane</span></div>
                  <div class="fgss-spec"><strong>Status:</strong> <span>Development</span></div>
                  <div class="fgss-spec"><strong>Timeline:</strong> <span>2027+ deployment</span></div>
                </div>
              </div>

            </div>
          </div>

          <!-- WHAT THIS MEANS FOR ENGINEERS -->
          <div class="fgss-section">
            <div class="fgss-section-label">What This Means for Engineering Teams</div>
            <div class="fgss-grid" style="grid-template-columns:repeat(auto-fit,minmax(220px,1fr))">
              <div class="fgss-card" style="border-left:3px solid var(--accent)">
                <h5>üéØ Design for 500 bar</h5>
                <p>New ME-GI engines are pushing toward 500-bar injection. Pump cold-end metallurgy, seal systems, and pulsation dampeners all need re-engineering. This is the new baseline ‚Äî not the exception.</p>
              </div>
              <div class="fgss-card" style="border-left:3px solid var(--accent2)">
                <h5>üì¶ Think Modular First</h5>
                <p>Shipyards want drop-in skids, not custom-engineered one-offs. Design pump systems as self-contained, pre-tested modules with standardized mounting interfaces and universal control bus connections.</p>
              </div>
              <div class="fgss-card" style="border-left:3px solid var(--accent3)">
                <h5>üîÑ Plan for Retrofits</h5>
                <p>The conversion market (2,000+ vessels) dwarfs newbuilds. Engineering teams should optimize for tight engine room fits, weight constraints, and minimal hot-work installation. Containerized solutions win.</p>
              </div>
              <div class="fgss-card" style="border-left:3px solid #f0c040">
                <h5>üß¨ Future-Proof Materials</h5>
                <p>Select alloys and seal materials now that can handle LNG (-162¬∞C) AND potentially LH‚ÇÇ (-253¬∞C) in the future. Austenitic stainless steels with high nickel content and advanced PTFE compounds are the path forward.</p>
              </div>
              <div class="fgss-card" style="border-left:3px solid var(--warn)">
                <h5>üì° Embed Sensors Early</h5>
                <p>Digital twins and predictive maintenance are becoming FGSS requirements, not nice-to-haves. Design sensor integration (vibration, temperature, pressure, flow) into pump cold-ends from day one.</p>
              </div>
              <div class="fgss-card" style="border-left:3px solid var(--accent)">
                <h5>üåç Certify Globally</h5>
                <p>Target DNV, Lloyd's, BV, and ClassNK type approval simultaneously. The retrofit market is global ‚Äî yards in China, Korea, and Europe all need pre-approved systems to accelerate conversion schedules.</p>
              </div>
            </div>
          </div>

        </div>
      </div>
    `;
    // Add click handler
    item.addEventListener('click',function(e){
      // Don't toggle if clicking inside the expanded panel content
      if(e.target.closest('.expand-panel') && this.classList.contains('open')) return;
      this.classList.toggle('open');
      document.getElementById('fgssPanel').classList.toggle('open');
      // Animate progress bars on open
      if(this.classList.contains('open')){
        setTimeout(()=>{
          document.querySelectorAll('.fgss-progress-fill').forEach(bar=>{
            const w = bar.dataset.width;
            bar.style.width = '0%';
            setTimeout(()=>{ bar.style.width = w+'%'; },100);
          });
        },200);
      }
    });
  } else {
    item.innerHTML = `<div class="roadmap-year">${r.year}</div><div class="roadmap-title">${r.title}</div><div class="roadmap-desc">${r.desc}</div>`;
  }
  roadmapEl.appendChild(item);
});

// ==================== GAPS ====================
const gapGrid = document.getElementById('gapGrid');
gaps.forEach(g=>{
  const card = document.createElement('div');
  card.className = 'gap-card';
  card.innerHTML = `<h4>${g.title}</h4><p>${g.desc}</p><div class="gap-opp">‚ü° ${g.opp}</div>`;
  gapGrid.appendChild(card);
});

// ==================== CUSTOMERS ====================
// Inline SVG vessel illustrations (no external images needed)
function vesselSVG(type){
const w=400,h=250;
const svgs={
container:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${w} ${h}">
<defs><linearGradient id="sea" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#0a1628"/><stop offset="100%" stop-color="#0d2137"/></linearGradient>
<linearGradient id="hull" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#1a3a5c"/><stop offset="100%" stop-color="#0f2440"/></linearGradient></defs>
<rect width="${w}" height="${h}" fill="url(#sea)"/>
<path d="M30 ${h-60} Q50 ${h-20} 370 ${h-60}" fill="none" stroke="#00e5a044" stroke-width="1"/>
<path d="M20 ${h-40} Q50 ${h-10} 380 ${h-40}" fill="none" stroke="#00e5a022" stroke-width="1"/>
<polygon points="60,155 80,170 340,170 360,155 350,130 70,130" fill="url(#hull)" stroke="#00b8d455" stroke-width="0.5"/>
<rect x="75" y="133" width="18" height="14" rx="1" fill="#00e5a088"/><rect x="96" y="133" width="18" height="14" rx="1" fill="#00b8d488"/>
<rect x="117" y="133" width="18" height="14" rx="1" fill="#6c63ff88"/><rect x="138" y="133" width="18" height="14" rx="1" fill="#f0c04088"/>
<rect x="159" y="133" width="18" height="14" rx="1" fill="#00e5a088"/><rect x="180" y="133" width="18" height="14" rx="1" fill="#ff6b6b88"/>
<rect x="201" y="133" width="18" height="14" rx="1" fill="#00b8d488"/><rect x="222" y="133" width="18" height="14" rx="1" fill="#6c63ff88"/>
<rect x="243" y="133" width="18" height="14" rx="1" fill="#f0c04088"/><rect x="264" y="133" width="18" height="14" rx="1" fill="#00e5a088"/>
<rect x="75" y="117" width="18" height="14" rx="1" fill="#00b8d466"/><rect x="96" y="117" width="18" height="14" rx="1" fill="#00e5a066"/>
<rect x="117" y="117" width="18" height="14" rx="1" fill="#f0c04066"/><rect x="138" y="117" width="18" height="14" rx="1" fill="#6c63ff66"/>
<rect x="159" y="117" width="18" height="14" rx="1" fill="#00b8d466"/><rect x="180" y="117" width="18" height="14" rx="1" fill="#00e5a066"/>
<rect x="290" y="110" width="40" height="38" rx="2" fill="#1a2a40" stroke="#00b8d444" stroke-width="0.5"/>
<rect x="295" y="115" width="8" height="5" rx="1" fill="#00e5a066"/>
<line x1="310" y1="90" x2="310" y2="112" stroke="#8892a4" stroke-width="1.5"/>
<circle cx="310" cy="88" r="3" fill="#00e5a0"/>
<text x="${w/2}" y="30" text-anchor="middle" fill="#00e5a044" font-family="monospace" font-size="9">CONTAINER VESSEL</text>
</svg>`,

cruise:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${w} ${h}">
<defs><linearGradient id="sea2" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#0a0c18"/><stop offset="100%" stop-color="#101830"/></linearGradient>
<linearGradient id="hull2" x1="0" y1="0" x2="1" y2="0"><stop offset="0%" stop-color="#e8eaf0"/><stop offset="100%" stop-color="#c0c4d0"/></linearGradient></defs>
<rect width="${w}" height="${h}" fill="url(#sea2)"/>
<path d="M30 ${h-50} Q200 ${h-15} 380 ${h-50}" fill="none" stroke="#6c63ff33" stroke-width="1"/>
<polygon points="50,160 65,175 350,175 370,160 365,155 55,155" fill="#1a2040" stroke="#6c63ff44" stroke-width="0.5"/>
<rect x="70" y="128" width="270" height="27" rx="3" fill="url(#hull2)" opacity="0.9"/>
<rect x="80" y="108" width="245" height="20" rx="2" fill="#e0e2e8" opacity="0.85"/>
<rect x="90" y="92" width="220" height="16" rx="2" fill="#d8dae0" opacity="0.8"/>
<rect x="100" y="78" width="190" height="14" rx="2" fill="#d0d2d8" opacity="0.75"/>
${Array.from({length:12},(_,i)=>`<rect x="${85+i*22}" y="132" width="3" height="8" rx="0.5" fill="#6c63ff66"/>`).join('')}
${Array.from({length:10},(_,i)=>`<rect x="${95+i*22}" y="112" width="3" height="6" rx="0.5" fill="#00b8d444"/>`).join('')}
<rect x="280" y="60" width="25" height="32" rx="2" fill="#c8cad0" opacity="0.7"/>
<ellipse cx="292" cy="55" rx="8" ry="4" fill="#6c63ff55"/>
<circle cx="180" cy="70" r="12" fill="none" stroke="#f0c04044" stroke-width="0.5"/>
<line x1="160" y1="65" x2="160" y2="80" stroke="#8892a4" stroke-width="0.5"/>
<text x="${w/2}" y="30" text-anchor="middle" fill="#6c63ff44" font-family="monospace" font-size="9">CRUISE SHIP ¬∑ LNG</text>
</svg>`,

lng:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${w} ${h}">
<defs><linearGradient id="sea3" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#080c14"/><stop offset="100%" stop-color="#0c1a2e"/></linearGradient></defs>
<rect width="${w}" height="${h}" fill="url(#sea3)"/>
<path d="M20 ${h-45} Q200 ${h-10} 390 ${h-45}" fill="none" stroke="#00e5a033" stroke-width="1"/>
<polygon points="40,160 55,178 355,178 375,160 370,140 50,140" fill="#0f1e35" stroke="#00e5a033" stroke-width="0.5"/>
<ellipse cx="120" cy="128" rx="45" ry="22" fill="#0a1525" stroke="#00e5a044" stroke-width="0.8"/>
<ellipse cx="200" cy="128" rx="45" ry="22" fill="#0a1525" stroke="#00b8d444" stroke-width="0.8"/>
<ellipse cx="280" cy="128" rx="45" ry="22" fill="#0a1525" stroke="#00e5a044" stroke-width="0.8"/>
<path d="M75 128 Q120 106 165 128" fill="none" stroke="#00e5a055" stroke-width="0.5"/>
<path d="M155 128 Q200 106 245 128" fill="none" stroke="#00b8d455" stroke-width="0.5"/>
<path d="M235 128 Q280 106 325 128" fill="none" stroke="#00e5a055" stroke-width="0.5"/>
<rect x="335" y="115" width="28" height="30" rx="2" fill="#121e30" stroke="#00b8d444" stroke-width="0.5"/>
<line x1="349" y1="95" x2="349" y2="117" stroke="#8892a4" stroke-width="1.5"/>
<circle cx="349" cy="93" r="2.5" fill="#00e5a0"/>
<text x="120" y="132" text-anchor="middle" fill="#00e5a033" font-family="monospace" font-size="7">MOSS</text>
<text x="200" y="132" text-anchor="middle" fill="#00b8d433" font-family="monospace" font-size="7">TANK</text>
<text x="280" y="132" text-anchor="middle" fill="#00e5a033" font-family="monospace" font-size="7">MOSS</text>
<text x="${w/2}" y="28" text-anchor="middle" fill="#00e5a044" font-family="monospace" font-size="9">LNG CARRIER ¬∑ 174,000 m¬≥</text>
</svg>`,

car:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${w} ${h}">
<defs><linearGradient id="sea4" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#0a0e18"/><stop offset="100%" stop-color="#0e1a2a"/></linearGradient></defs>
<rect width="${w}" height="${h}" fill="url(#sea4)"/>
<path d="M25 ${h-50} Q200 ${h-15} 385 ${h-50}" fill="none" stroke="#ff6b6b22" stroke-width="1"/>
<polygon points="55,170 70,182 345,182 365,170 360,100 60,100" fill="#121c30" stroke="#ff6b6b33" stroke-width="0.5"/>
<rect x="65" y="104" width="285" height="16" rx="1" fill="#1a2840" stroke="#ff6b6b22" stroke-width="0.3"/>
<rect x="65" y="122" width="285" height="16" rx="1" fill="#1a2840" stroke="#ff6b6b22" stroke-width="0.3"/>
<rect x="65" y="140" width="285" height="16" rx="1" fill="#1a2840" stroke="#ff6b6b22" stroke-width="0.3"/>
${Array.from({length:8},(_,i)=>`<rect x="${80+i*33}" y="107" width="12" height="6" rx="1" fill="#ff6b6b22"/>`).join('')}
${Array.from({length:8},(_,i)=>`<rect x="${80+i*33}" y="125" width="12" height="6" rx="1" fill="#ff6b6b22"/>`).join('')}
${Array.from({length:8},(_,i)=>`<rect x="${80+i*33}" y="143" width="12" height="6" rx="1" fill="#ff6b6b22"/>`).join('')}
<polygon points="60,100 60,75 80,60 330,60 350,75 360,100" fill="#0f1825" stroke="#ff6b6b33" stroke-width="0.5"/>
<rect x="90" y="65" width="12" height="10" rx="1" fill="#ff6b6b22"/><rect x="110" y="65" width="12" height="10" rx="1" fill="#ff6b6b22"/>
<rect x="130" y="65" width="12" height="10" rx="1" fill="#ff6b6b22"/>
<rect x="310" y="50" width="30" height="25" rx="2" fill="#0d1520" stroke="#ff6b6b33" stroke-width="0.5"/>
<text x="${w/2}" y="28" text-anchor="middle" fill="#ff6b6b44" font-family="monospace" font-size="9">PCTC ¬∑ CAR CARRIER</text>
</svg>`,

tanker:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${w} ${h}">
<defs><linearGradient id="sea5" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#0a0c14"/><stop offset="100%" stop-color="#0c1520"/></linearGradient></defs>
<rect width="${w}" height="${h}" fill="url(#sea5)"/>
<path d="M20 ${h-45} Q200 ${h-10} 390 ${h-45}" fill="none" stroke="#f0c04022" stroke-width="1"/>
<polygon points="45,155 60,175 360,175 380,155 375,135 50,135" fill="#111c28" stroke="#f0c04033" stroke-width="0.5"/>
<rect x="65" y="125" width="280" height="12" rx="2" fill="#0e1620" stroke="#f0c04022" stroke-width="0.3"/>
<line x1="135" y1="127" x2="135" y2="135" stroke="#f0c04033" stroke-width="0.5"/>
<line x1="205" y1="127" x2="205" y2="135" stroke="#f0c04033" stroke-width="0.5"/>
<line x1="275" y1="127" x2="275" y2="135" stroke="#f0c04033" stroke-width="0.5"/>
<rect x="330" y="108" width="32" height="30" rx="2" fill="#0d1520" stroke="#f0c04033" stroke-width="0.5"/>
<rect x="100" y="118" width="20" height="8" rx="1" fill="#f0c04022"/>
<rect x="170" y="118" width="20" height="8" rx="1" fill="#f0c04022"/>
<rect x="240" y="118" width="20" height="8" rx="1" fill="#f0c04022"/>
<line x1="346" y1="88" x2="346" y2="110" stroke="#8892a4" stroke-width="1.5"/>
<circle cx="346" cy="86" r="2.5" fill="#f0c040"/>
<text x="${w/2}" y="28" text-anchor="middle" fill="#f0c04044" font-family="monospace" font-size="9">TANKER / BULK CARRIER</text>
</svg>`,

bunker:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${w} ${h}">
<defs><linearGradient id="sea6" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#080c18"/><stop offset="100%" stop-color="#0c1828"/></linearGradient></defs>
<rect width="${w}" height="${h}" fill="url(#sea6)"/>
<path d="M30 ${h-50} Q200 ${h-20} 380 ${h-50}" fill="none" stroke="#00b8d422" stroke-width="1"/>
<polygon points="80,158 95,172 320,172 340,158 335,130 85,130" fill="#101e30" stroke="#00b8d433" stroke-width="0.5"/>
<ellipse cx="160" cy="125" rx="35" ry="16" fill="#0a1525" stroke="#00b8d444" stroke-width="0.8"/>
<ellipse cx="240" cy="125" rx="35" ry="16" fill="#0a1525" stroke="#00b8d444" stroke-width="0.8"/>
<rect x="300" y="112" width="25" height="24" rx="2" fill="#0d1520" stroke="#00b8d433" stroke-width="0.5"/>
<line x1="312" y1="95" x2="312" y2="114" stroke="#8892a4" stroke-width="1.2"/>
<path d="M130 120 L100 100 L100 95" fill="none" stroke="#00e5a066" stroke-width="1.5" stroke-dasharray="3,2"/>
<circle cx="100" cy="92" r="3" fill="#00e5a066"/>
<text x="${w/2}" y="28" text-anchor="middle" fill="#00b8d444" font-family="monospace" font-size="9">LNG BUNKERING VESSEL</text>
</svg>`
};
return 'data:image/svg+xml,'+encodeURIComponent(svgs[type]||svgs.container);
}
const customers = [
{rank:1,name:'QatarEnergy / Nakilat',hq:'Doha, Qatar',sector:['carrier','tanker'],
orderbook:'128 LNG carriers',pumps:'300+',demand:100,
sub:'State energy giant ¬∑ Largest LNG shipbuilding program in history',
detail:'128 newbuild LNG carriers ordered from Korean and Chinese yards (104 conventional 174K m¬≥ + 24 QC-Max 271K m¬≥). Fleet of "floating pipelines" to support North Field East, South, and West expansions ‚Äî raising Qatar LNG output 85% to 142 Mtpa by 2030. Each carrier requires multiple cryogenic pumps for cargo and fuel systems. Deliveries 2024‚Äì2031.',
vesselTypes:'QC-Max (271K m¬≥), Conventional (174K m¬≥)',
vessels:[
{name:'QC-Max Class',desc:'271,000 m¬≥ ‚Äî Largest LNG carriers ever built. 24 on order at Hudong-Zhonghua, China. Delivery 2028-2031.',tags:['hp','planned'],vtype:'lng'},
{name:'Conventional 174K',desc:'104 conventional-size LNG carriers. Built at Samsung Heavy & Hanwha Ocean, Korea. Multiple already delivered.',tags:['hp'],vtype:'lng'},
{name:'Al Zuwair',desc:'Recently delivered by HHI Ulsan. Managed by NYK. Time-chartered to QatarEnergy for global LNG transport.',tags:['hp'],vtype:'lng'}
],
suppliers:[{name:'Ebara Cryodynamics',primary:true},{name:'Nikkiso',primary:true},{name:'Cryostar',primary:false}],
details:{orderValue:'$25B+ total shipbuilding program',engines:'WinGD X-DF, MAN ME-GI',shipyards:'Samsung Heavy, Hanwha Ocean, Hudong-Zhonghua, HD HHI',partners:'Nakilat, MOL, NYK, K-Line, MISC, COSCO, CMES, Shandong Marine'}},

{rank:2,name:'CMA CGM',hq:'Marseille, France',sector:['container'],
orderbook:'84 vessels / 1.34M TEU',pumps:'170+',demand:88,
sub:'World #3 container line ¬∑ Ocean Alliance ¬∑ Aggressive LNG fleet',
detail:'Massive LNG dual-fuel orderbook including 12 recently ordered from HD KSOE. Fleet approaching 4M TEU with 30% orderbook-to-fleet ratio. Core Ocean Alliance member with COSCO and Evergreen. Took delivery of ten 2,000 TEU LNG ships from HD Hyundai Mipo in 2025. Net zero 2050 target.',
vesselTypes:'Ultra-large container 23K TEU, mid-size 15K TEU, feeder 2K TEU',
vessels:[
{name:'CMA CGM Jacques Saad√© Class',desc:'23,000 TEU LNG-powered. World\'s largest LNG containership class. Nine ships delivered. ME-GI engines.',tags:['hp'],vtype:'container'},
{name:'15,000 TEU Dual-Fuel',desc:'Mid-range LNG container vessels ordered at HD KSOE. 12 units latest order (Jan 2025). ME-GI propulsion.',tags:['hp','planned'],vtype:'container'},
{name:'2,000 TEU Feeder',desc:'10 small LNG-powered feeders from HD Hyundai Mipo. Final delivered 2025. Regional European trades.',tags:['lp'],vtype:'container'}
],
suppliers:[{name:'Nikkiso',primary:true},{name:'Cryostar',primary:true},{name:'Vanzetti',primary:false}],
details:{orderValue:'$10B+ newbuild investment',engines:'MAN ME-GI (2-stroke HP), WinGD X-DF',shipyards:'HD KSOE, Jiangnan, Hudong-Zhonghua',partners:'CEVA Logistics, Bollor√© Logistics, CMA Terminals'}},

{rank:3,name:'MSC (Mediterranean Shipping Co.)',hq:'Geneva, Switzerland',sector:['container'],
orderbook:'2.1M TEU on order',pumps:'200+',demand:92,
sub:'World #1 container line ¬∑ 6.4M+ TEU fleet ¬∑ Massive expansion',
detail:'World\'s largest shipping line with 2.1M TEU on order ‚Äî 33% of fleet. Added 691K TEU in 2024 alone via 50 newbuildings. Ten 24,000 TEU LNG units ordered Dec 2024 at Hengli Heavy Industries. MSC Maria Cristina delivered with 13,000 cbm Type B LNG tank ‚Äî biggest of its kind. Fleet approaching 800+ vessels.',
vesselTypes:'Mega-max 24K TEU, Neo-Panamax 16K TEU, Feeder vessels',
vessels:[
{name:'MSC 24,000 TEU LNG Class',desc:'Ten mega-max LNG dual-fuel units ordered Dec 2024 at Hengli Heavy, China. Delivery 2027-2029.',tags:['hp','planned'],vtype:'container'},
{name:'MSC Maria Cristina Class',desc:'16,196 TEU LNG dual-fuel. 13,000 cbm Type B LNG tank ‚Äî world\'s largest on containership. DSIC-built.',tags:['hp'],vtype:'car'},
{name:'MSC Viola',desc:'16,196 TEU. Delivered Jan 2025, 172 days ahead of schedule at DSIC Tianjin. iCER-diesel + dual-fuel SCR system.',tags:['hp'],vtype:'car'}
],
suppliers:[{name:'Nikkiso',primary:true},{name:'Ebara',primary:false},{name:'Cryostar',primary:true}],
details:{orderValue:'$15B+ newbuild capex',engines:'MAN ME-GI, WinGD X-DF',shipyards:'Hengli Heavy, DSIC, Jiangnan, Samsung Heavy',partners:'TiL (terminal investments), MSC Cruises'}},

{rank:4,name:'A.P. Moller ‚Äì Maersk',hq:'Copenhagen, Denmark',sector:['container'],
orderbook:'774K TEU / 20 dual-fuel vessels',pumps:'80+',demand:62,
sub:'World #3 container ¬∑ Gemini Cooperation ¬∑ Net zero 2040',
detail:'Ordered 20 dual-fuel container vessels Dec 2024 (9K‚Äì17K TEU) completing 300K TEU fleet renewal program. Mix of methanol and LNG/bio-LNG propulsion. Gemini Cooperation with Hapag-Lloyd launched Feb 2025 targeting 90% schedule reliability. Fleet capped at 4.3M TEU through 2030. Pioneering green methanol pathway.',
vesselTypes:'17,000 TEU, 16,000 TEU, 9,000 TEU dual-fuel',
vessels:[
{name:'Maersk 17K TEU LNG Class',desc:'Largest in 20-vessel order. Liquified gas dual-fuel. Part of fleet renewal ‚Äî delivery 2026-2028.',tags:['hp','planned'],vtype:'container'},
{name:'Maersk Halifax Class',desc:'Green methanol-capable feeder class. Represents Maersk\'s multi-fuel future approach.',tags:['lp'],vtype:'cruise'}
],
suppliers:[{name:'Cryostar',primary:true},{name:'Nikkiso',primary:false},{name:'Vanzetti',primary:false}],
details:{orderValue:'$8B+ fleet renewal 2024-2030',engines:'MAN ME-GI, MAN ME-LGI (methanol)',shipyards:'HD KSOE, Yangzijiang, New Times',partners:'Hapag-Lloyd (Gemini), APM Terminals'}},

{rank:5,name:'COSCO Shipping Lines',hq:'Shanghai, China',sector:['container','carrier'],
orderbook:'883K TEU containers + LNG carriers',pumps:'130+',demand:72,
sub:'World #4 container ¬∑ China state-owned ¬∑ Ocean Alliance',
detail:'Fourth-largest container carrier with 3.3M+ TEU fleet. Just ordered 12 ME-GI dual-fuel engines from Everllence for 18,000 TEU newbuilds at Jiangnan Shipyard (Feb 2026). Ocean Alliance member. Also operates LNG carriers via COSCO LNG Shipping for QatarEnergy JV. 26% orderbook-to-fleet ratio with 883K TEU due.',
vesselTypes:'18,000 TEU mega-container, LNG carriers (174K m¬≥)',
vessels:[
{name:'COSCO 18K TEU LNG Class',desc:'New 18,000 TEU vessels with ME-GI engines. 12 dual-fuel engines ordered Feb 2026. Jiangnan Shipyard.',tags:['hp','planned'],vtype:'container'},
{name:'QatarEnergy JV LNG Carriers',desc:'COSCO LNG Shipping operates QC-Max and conventional LNG carriers under QatarEnergy long-term charter.',tags:['hp'],vtype:'lng'}
],
suppliers:[{name:'Nikkiso',primary:true},{name:'Ebara',primary:true},{name:'Cryostar',primary:false}],
details:{orderValue:'$6B+ orderbook value',engines:'MAN ME-GI (2-stroke), Everllence dual-fuel',shipyards:'Jiangnan, Hudong-Zhonghua, Dalian',partners:'OOCL (subsidiary), Ocean Alliance, QatarEnergy'}},

{rank:6,name:'Carnival Corporation',hq:'Miami, USA',sector:['cruise'],
orderbook:'16 LNG ships by 2033',pumps:'90+',demand:68,
sub:'World #1 cruise company ¬∑ 9 brands ¬∑ 30% fleet LNG by 2033',
detail:'16 LNG-powered cruise ships by 2033 across brands (AIDA, Costa, Carnival, P&O, Princess). Three new 230,000 GT ships ordered Jul 2024 at Fincantieri for delivery 2029/2031/2033 ‚Äî largest ever built in Italy. Eight will be Carnival Cruise Line brand. Vanzetti Engineering is sole pump supplier for Carnival LNG fleet.',
vesselTypes:'Excel-class (180K GT), Sphere-class (175K GT), New 230K GT class',
vessels:[
{name:'New Class (230K GT)',desc:'3 ships: 2029, 2031, 2033. ~8,000 guests. Largest Carnival fleet ships & largest Fincantieri builds. LNG-powered.',tags:['lp','planned'],vtype:'cruise'},
{name:'Carnival Jubilee (Excel)',desc:'180,000 GT. Excel-class. LNG-powered. Meyer Werft. 5th Excel-class ordered 2024 for delivery 2028.',tags:['lp'],vtype:'cruise'},
{name:'Sun Princess (Sphere)',desc:'Princess Cruises. 175,882 GT. LNG Sphere-class. Fincantieri. Star Princess (sister) launched 2025.',tags:['lp'],vtype:'cruise'}
],
suppliers:[{name:'Vanzetti Engineering',primary:true},{name:'Alfa Laval Cryomec',primary:false}],
details:{orderValue:'$12B+ newbuild pipeline through 2033',engines:'W√§rtsil√§ 46DF, dual-fuel 4-stroke',shipyards:'Meyer Werft, Fincantieri',partners:'CSSC/Adora Cruises (China JV), Vanzetti (sole pump supplier)'}},

{rank:7,name:'Royal Caribbean Group',hq:'Miami, USA',sector:['cruise'],
orderbook:'5-7 Icon-class + Oasis LNG ships',pumps:'50+',demand:52,
sub:'Icon of the Seas ¬∑ World\'s largest cruise ships ¬∑ LNG-powered',
detail:'Icon Class (250,800 GT, LNG) is world\'s largest cruise ship class. Icon of the Seas launched 2024. Star of the Seas Aug 2025. Icon 4 (2027), Icon 5 (2028), plus options for Icon 6 & 7 under Meyer Turku framework deal (Sep 2025). 7th Oasis Class (LNG) ordered at Chantiers de l\'Atlantique for 2028. TUI Cruises JV also ordering LNG ships.',
vesselTypes:'Icon-class (250K GT), Oasis-class (230K GT), TUI InTUItion-class',
vessels:[
{name:'Icon of the Seas',desc:'250,800 GT. World\'s largest cruise ship. LNG-powered. Meyer Turku. Launched Jan 2024. 5,610 guests.',tags:['lp'],vtype:'cruise'},
{name:'Icon 4/5 (2027-28)',desc:'Next Icon-class ships under Meyer Turku framework agreement. LNG dual-fuel. Options for Icon 6 & 7.',tags:['lp','planned'],vtype:'cruise'},
{name:'7th Oasis Class',desc:'5,714 guests. LNG. Chantiers de l\'Atlantique. Delivery 2028. Subject to financing.',tags:['lp','planned'],vtype:'cruise'}
],
suppliers:[{name:'Vanzetti Engineering',primary:true},{name:'Alfa Laval Cryomec',primary:false},{name:'Nikkiso',primary:false}],
details:{orderValue:'$10B+ newbuild pipeline',engines:'W√§rtsil√§ 46DF, Caterpillar MaK',shipyards:'Meyer Turku, Chantiers de l\'Atlantique, Fincantieri',partners:'TUI Cruises (JV), Celebrity Cruises, Silversea'}},

{rank:8,name:'Hapag-Lloyd',hq:'Hamburg, Germany',sector:['container'],
orderbook:'~616K TEU on order',pumps:'70+',demand:55,
sub:'World #5 container ¬∑ Gemini Cooperation ¬∑ Fleet modernization',
detail:'Fifth-largest carrier with 2.35M TEU across ~300 vessels. Added 367K TEU capacity in 2024 ‚Äî second only to MSC. Now in Gemini Cooperation with Maersk (launched Feb 2025). Strong dual-fuel orderbook with LNG focus. Revenue ~‚Ç¨14.35B in Q3 2025. Expanding terminal operations via Hanseatic Global Terminals.',
vesselTypes:'15,000-23,000 TEU LNG dual-fuel',
vessels:[
{name:'Hapag-Lloyd 23K TEU Class',desc:'Ultra-large LNG dual-fuel container vessels. Part of fleet modernization program. ME-GI engines.',tags:['hp','planned'],vtype:'container'},
{name:'Berlin Express Class',desc:'13,200 TEU LNG dual-fuel. Delivered 2024-2025. Key Gemini Cooperation deployment vessels.',tags:['hp'],vtype:'container'}
],
suppliers:[{name:'Cryostar',primary:true},{name:'Nikkiso',primary:false}],
details:{orderValue:'$4B+ fleet renewal',engines:'MAN ME-GI',shipyards:'HD KSOE, DSME/Hanwha Ocean',partners:'Maersk (Gemini), Hanseatic Global Terminals'}},

{rank:9,name:'NYK Line (Nippon Yusen)',hq:'Tokyo, Japan',sector:['car','carrier'],
orderbook:'LNG car carriers + QatarEnergy JV (12 LNG carriers)',pumps:'65+',demand:58,
sub:'Japan #1 shipping ¬∑ LNG car carrier pioneer ¬∑ QatarEnergy partner',
detail:'Pioneer of LNG-fueled car carriers ‚Äî Daisy Leader and Sweet Pea Leader (Imabari/MHI FGSS) in service since 2023/24. Now operating bio-LNG fuel on carriers. 12 LNG carriers under construction for QatarEnergy via JV with K-Line, MISC, and China LNG Shipping. Also ordered LNG-powered Asuka III cruise ship (Meyer Werft).',
vesselTypes:'PCTC car carriers (7,000 CEU), LNG carriers (174K m¬≥)',
vessels:[
{name:'Sweet Pea Leader',desc:'LNG-fueled PCTC car carrier. 7,000 CEU. Imabari-built. MHI FGSS system. In service since Oct 2023.',tags:['hp'],vtype:'car'},
{name:'Daisy Leader',desc:'Sister ship. LNG-fueled car carrier. In service since Mar 2024. Now running on bio-LNG at Zeebrugge.',tags:['hp'],vtype:'car'},
{name:'QatarEnergy LNG JV Fleet',desc:'12 LNG carriers for QatarEnergy. JV with K-Line, MISC, China LNG. Built at HD HHI. Ship management by NYK.',tags:['hp','planned'],vtype:'lng'}
],
suppliers:[{name:'Nikkiso',primary:true},{name:'Ebara Cryodynamics',primary:true},{name:'Cryostar',primary:false}],
details:{orderValue:'$3B+ multi-segment investment',engines:'MAN ME-GI (carriers), WinGD X-DF (car carriers)',shipyards:'Imabari, HD HHI, Hanwha Ocean, Meyer Werft',partners:'K-Line, MISC, China LNG Shipping, QatarEnergy, MHI (FGSS)'}},

{rank:10,name:'MOL (Mitsui O.S.K. Lines)',hq:'Tokyo, Japan',sector:['carrier','car','tanker'],
orderbook:'LNG carriers + car carriers + tankers',pumps:'60+',demand:53,
sub:'Japan #2 shipping ¬∑ Wind Challenger ¬∑ TotalEnergies partner',
detail:'Diverse fleet with LNG carriers (chartering to TotalEnergies, JERA), LNG-fueled car carriers (Cerulean Ace with ClassNK fire-prevention certification for EV transport), and bulk carriers. First LNG carrier with Wind Challenger wind-assisted propulsion ordered with Chevron (delivery 2026). MOL Azure delivered for TotalEnergies charter.',
vesselTypes:'LNG carriers (174K m¬≥), LNG car carriers, LNG tankers',
vessels:[
{name:'MOL Azure',desc:'LNG carrier for TotalEnergies time-charter. Newbuild delivered. Global LNG transport.',tags:['hp'],vtype:'lng'},
{name:'Wind Challenger LNG Carrier',desc:'World\'s first LNG carrier with wind-assisted propulsion. Chevron charter. Hanwha Ocean. Delivery 2026.',tags:['hp','planned'],vtype:'lng'},
{name:'Cerulean Ace',desc:'LNG-fueled car carrier. ClassNK fire-prevention certification for EV transport. Operated by MOL.',tags:['hp'],vtype:'car'}
],
suppliers:[{name:'Nikkiso',primary:true},{name:'Ebara Cryodynamics',primary:true}],
details:{orderValue:'$4B+ fleet program',engines:'MAN ME-GI, WinGD X-DF',shipyards:'Hanwha Ocean, Imabari, Samsung Heavy',partners:'TotalEnergies, JERA, Chevron, QatarEnergy JV (with COSCO)'}},

{rank:11,name:'Evergreen Marine',hq:'Taipei, Taiwan',sector:['container'],
orderbook:'840K TEU on order',pumps:'80+',demand:58,
sub:'World #7 container ¬∑ Ocean Alliance ¬∑ Major dual-fuel orderbook',
detail:'Fourth-largest orderbook in the container industry at 840K TEU. Core Ocean Alliance member with CMA CGM and COSCO. Aggressive fleet renewal with LNG dual-fuel vessels. 87% of new vehicle carrier orders and 74% of container orders are now dual-fuel by DWT, reflecting the industry shift Evergreen is leading.',
vesselTypes:'24,000 TEU, 15,000 TEU LNG dual-fuel',
vessels:[
{name:'Evergreen 24K TEU Class',desc:'Ultra-large LNG container vessels. Part of major fleet renewal. ME-GI engines for HP injection.',tags:['hp','planned'],vtype:'container'},
{name:'F-Class 15K TEU',desc:'Mid-range LNG dual-fuel containerships. Delivery 2025-2027.',tags:['hp'],vtype:'container'}
],
suppliers:[{name:'Nikkiso',primary:true},{name:'Cryostar',primary:false}],
details:{orderValue:'$5B+',engines:'MAN ME-GI',shipyards:'Samsung Heavy, Nihon Shipyard, CSSC yards',partners:'Ocean Alliance (CMA CGM, COSCO)'}},

{rank:12,name:'ONE (Ocean Network Express)',hq:'Singapore',sector:['container'],
orderbook:'616K TEU / 31% ratio',pumps:'60+',demand:48,
sub:'Japan-HQ alliance carrier ¬∑ Major dual-fuel fleet buildout',
detail:'Formed from NYK, MOL, and K-Line container divisions. 616K TEU on order ‚Äî 31% orderbook-to-fleet ratio, one of the highest in the industry. Transitioning to LNG dual-fuel fleet to comply with EU ETS and FuelEU Maritime. Strong Asia-Europe and Trans-Pacific presence.',
vesselTypes:'14,000-24,000 TEU LNG dual-fuel',
vessels:[
{name:'ONE 24K TEU Class',desc:'Ultra-large LNG dual-fuel. Part of aggressive fleet renewal. Multiple shipyard programs.',tags:['hp','planned'],vtype:'container'}
],
suppliers:[{name:'Nikkiso',primary:true},{name:'Ebara',primary:false}],
details:{orderValue:'$4B+',engines:'MAN ME-GI, WinGD X-DF',shipyards:'Nihon Shipyard, Imabari, JMU',partners:'NYK, MOL, K-Line (founders)'}},

{rank:13,name:'MISC Berhad',hq:'Kuala Lumpur, Malaysia',sector:['carrier','tanker'],
orderbook:'QatarEnergy JV + own fleet',pumps:'45+',demand:42,
sub:'Malaysia state-linked ¬∑ LNG carrier specialist ¬∑ FPSO operator',
detail:'Leading LNG carrier owner-operator with decades of experience. Operating 3 LNG carriers for QatarEnergy under second shipowner tender. Also owns/operates FPSO fleet and petroleum tankers. Deep expertise in cryogenic systems and LNG handling from MISC\'s Petronas heritage.',
vesselTypes:'LNG carriers (174K m¬≥), petroleum tankers, FPSOs',
vessels:[
{name:'QatarEnergy LNG Carriers',desc:'3 conventional-size LNG carriers being built at Samsung Heavy. QatarEnergy long-term charter.',tags:['hp','planned'],vtype:'lng'},
{name:'MISC MOSS-Type Fleet',desc:'Existing LNG carrier fleet under Petronas long-term charters. Undergoing fleet renewal.',tags:['hp'],vtype:'lng'}
],
suppliers:[{name:'Ebara Cryodynamics',primary:true},{name:'Nikkiso',primary:false}],
details:{orderValue:'$2B+',engines:'MAN ME-GI, steam turbine (legacy)',shipyards:'Samsung Heavy, Hanwha Ocean',partners:'QatarEnergy, Petronas, JV consortium (NYK/K-Line/CLNG)'}},

{rank:14,name:'Wallenius Wilhelmsen',hq:'Lysaker, Norway',sector:['car'],
orderbook:'8+ LNG PCTC vessels',pumps:'35+',demand:35,
sub:'World #1 car carrier ¬∑ Dual-fuel fleet transition',
detail:'World\'s largest vehicle carrier operator. Future Way christened 2025 ‚Äî first of two for Volkswagen charter (6,500 CEU each, CIMC Raffles-built). 87% of vehicle carrier orders now dual-fuel by DWT. Acquired Armacup (NZ) for Asia-Oceania expansion. EV transport driving fire-safety innovation.',
vesselTypes:'PCTC 6,500-9,000 CEU LNG dual-fuel',
vessels:[
{name:'Future Way',desc:'6,500 CEU. CIMC Raffles-built. LNG dual-fuel. Volkswagen charter: Europe‚ÜîNorth America. Christened 2025.',tags:['hp'],vtype:'car'},
{name:'Next-Gen PCTC Fleet',desc:'Multiple LNG dual-fuel car carriers on order. Up to 9,000 CEU. For global OEM automotive logistics.',tags:['hp','planned'],vtype:'car'}
],
suppliers:[{name:'Nikkiso',primary:true},{name:'Vanzetti Engineering',primary:false}],
details:{orderValue:'$1.5B+',engines:'MAN ME-GI, WinGD X-DF',shipyards:'CIMC Raffles, Xiamen Shipbuilding, China Merchants Jinling',partners:'Volkswagen, Hyundai, Toyota, Armacup'}},

{rank:15,name:'K-Line (Kawasaki Kisen Kaisha)',hq:'Tokyo, Japan',sector:['carrier','car'],
orderbook:'QatarEnergy JV (4 LNG carriers) + car carriers',pumps:'35+',demand:33,
sub:'Japan #3 shipping ¬∑ QatarEnergy/Hyundai Glovis JV',
detail:'Operating 4 LNG carriers via Hyundai Glovis JV for QatarEnergy (built at Hanwha Ocean). Also expanding LNG-fueled car carrier fleet. Co-founder of ONE for container operations. Strong presence in dry bulk and energy transport. Investing in ammonia-ready vessel designs.',
vesselTypes:'LNG carriers (174K m¬≥), PCTC car carriers',
vessels:[
{name:'QatarEnergy LNG Fleet',desc:'4 LNG carriers via K-Line/Hyundai Glovis JV. Hanwha Ocean-built. Long-term QatarEnergy charter.',tags:['hp'],vtype:'lng'}
],
suppliers:[{name:'Ebara Cryodynamics',primary:true},{name:'Nikkiso',primary:false}],
details:{orderValue:'$1.5B+',engines:'MAN ME-GI, WinGD X-DF',shipyards:'Hanwha Ocean, Imabari',partners:'QatarEnergy, Hyundai Glovis, ONE consortium'}},

{rank:16,name:'Zim Integrated Shipping',hq:'Haifa, Israel',sector:['container'],
orderbook:'Fleet renewal: LNG dual-fuel',pumps:'30+',demand:30,
sub:'Highest fleet growth 2020-24 ¬∑ LNG transition underway',
detail:'Had the highest fleet percentage growth of any top-10 carrier 2020-2024. Most newbuildings already received but continuing fleet renewal with dual-fuel vessels. Pioneering operational efficiency with digital-first approach. Shifting to LNG and LNG-ready vessels for EU ETS compliance.',
vesselTypes:'8,000-15,000 TEU LNG dual-fuel containers',
vessels:[
{name:'Zim LNG Container Class',desc:'Mid-range LNG dual-fuel container vessels. Fleet modernization program.',tags:['hp','planned'],vtype:'container'}
],
suppliers:[{name:'Nikkiso',primary:true},{name:'Cryostar',primary:false}],
details:{orderValue:'$2B+',engines:'MAN ME-GI',shipyards:'Samsung Heavy, CSSC yards',partners:'ZIM e-Commerce, 2M digital platform'}},

{rank:17,name:'TotalEnergies',hq:'Paris, France',sector:['carrier','tanker'],
orderbook:'LNG carrier charters + fleet',pumps:'40+',demand:38,
sub:'Energy major ¬∑ Long-term LNG charterer ¬∑ Shipping fleet owner',
detail:'Major LNG charterer with long-term time-charters for carriers (MOL Azure etc.). Also investing in LNG bunkering vessels ‚Äî committed $400M for two 18,600 m¬≥ LNGBVs (early 2025). 27-year LNG supply agreements with QatarEnergy. Chartering fleet of LNG carriers globally for distribution to France, South Korea, and beyond.',
vesselTypes:'LNG carriers (chartered), LNG bunkering vessels',
vessels:[
{name:'MOL Azure (Chartered)',desc:'LNG carrier on long-term charter from MOL. Global LNG distribution for TotalEnergies portfolio.',tags:['hp'],vtype:'lng'},
{name:'18,600 m¬≥ LNG Bunkering Vessels',desc:'Two LNGBVs ordered early 2025. $400M investment. Ship-to-ship LNG bunkering at major ports.',tags:['hp','planned'],vtype:'bunker'}
],
suppliers:[{name:'Cryostar',primary:true},{name:'Nikkiso',primary:false},{name:'Alfa Laval',primary:false}],
details:{orderValue:'$3B+ shipping/bunkering investment',engines:'WinGD X-DF, MAN ME-GI',shipyards:'Various Korean/Chinese (chartered tonnage)',partners:'QatarEnergy (27yr supply), MOL, multiple carrier partners'}},

{rank:18,name:'Disney Cruise Line',hq:'Orlando, USA',sector:['cruise'],
orderbook:'4+ LNG ships (2027-2031)',pumps:'25+',demand:25,
sub:'Premium cruise ¬∑ Meyer Werft partnership extended to 2031',
detail:'Extended partnership with Meyer Werft for 4 additional LNG ships (Aug 2024) for delivery 2027-2031. Disney Wish (2022), Disney Treasure (2024), Disney Destiny (2025) already LNG-powered. Premium family cruise market with highest per-berth revenue in the industry driving continued fleet investment.',
vesselTypes:'Disney Triton-class ~140K GT, LNG dual-fuel',
vessels:[
{name:'Disney Wish / Treasure / Destiny',desc:'Triton-class. ~140K GT. LNG-powered. Meyer Werft. Wish (2022), Treasure (2024), Destiny (2025).',tags:['lp'],vtype:'cruise'},
{name:'Disney Ship 7-10 (2027-2031)',desc:'Four more LNG ships ordered at Meyer Werft. Extended partnership. Premium family cruise expansion.',tags:['lp','planned'],vtype:'cruise'}
],
suppliers:[{name:'Vanzetti Engineering',primary:true},{name:'Alfa Laval Cryomec',primary:false}],
details:{orderValue:'$4B+ for 7 ships total',engines:'W√§rtsil√§ 46DF',shipyards:'Meyer Werft (exclusive)',partners:'Meyer Werft (long-term partnership)'}},

{rank:19,name:'Norwegian Cruise Line Holdings',hq:'Miami, USA',sector:['cruise'],
orderbook:'Prima Plus-class LNG',pumps:'20+',demand:22,
sub:'Norwegian + Oceania + Regent ¬∑ Prima-class LNG fleet',
detail:'Norwegian Prima class (142,500 GT) features LNG-powered propulsion. NCL continues to invest in dual-fuel cruise ships across its three brands: Norwegian Cruise Line, Oceania Cruises, and Regent Seven Seas. Allura (Oceania, 67K GT) launched 2025 from Fincantieri.',
vesselTypes:'Prima-class (142K GT), next-gen LNG cruise',
vessels:[
{name:'Norwegian Prima Class',desc:'142,500 GT. LNG dual-fuel. Fincantieri. Prima (2022), Viva (2023), Aqua (2025).',tags:['lp'],vtype:'cruise'},
{name:'Future Norwegian Ships',desc:'Continued LNG fleet expansion. Multi-brand (NCL, Oceania, Regent) newbuild pipeline.',tags:['lp','planned'],vtype:'cruise'}
],
suppliers:[{name:'Vanzetti Engineering',primary:true},{name:'Alfa Laval Cryomec',primary:false}],
details:{orderValue:'$2B+',engines:'W√§rtsil√§ 46DF',shipyards:'Fincantieri',partners:'Oceania Cruises, Regent Seven Seas'}},

{rank:20,name:'Sallaum Lines',hq:'Antwerp, Belgium',sector:['car'],
orderbook:'12+ LNG dual-fuel PCTCs',pumps:'18+',demand:18,
sub:'Car carrier specialist ¬∑ Ocean Breeze launched Sep 2025',
detail:'Rapidly growing automotive carrier. Ocean Breeze ‚Äî first of six 7,500 CEU LNG dual-fuel PCTCs ‚Äî launched at Antwerp Sep 2025. Then ordered six MORE dual-fuel PCTCs (7,400-7,500 CEU) from Fujian Mawei and China Merchants Jinling. Ammonia-capable LNG fuel tanks. 25%+ CO‚ÇÇ reduction vs HFO.',
vesselTypes:'PCTC 7,400-7,500 CEU LNG dual-fuel',
vessels:[
{name:'Ocean Breeze',desc:'7,500 CEU. LNG dual-fuel. First of six. Launched Sep 2025 at Port of Antwerp. Asia‚ÜîEurope automotive trades.',tags:['hp'],vtype:'car'},
{name:'6 Additional PCTCs',desc:'7,400-7,500 CEU. Fujian Mawei & China Merchants Jinling. Ammonia-capable LNG tanks. Delivery 2026-2027.',tags:['hp','planned'],vtype:'car'}
],
suppliers:[{name:'Nikkiso',primary:true},{name:'Vanzetti Engineering',primary:false}],
details:{orderValue:'$800M+',engines:'MAN ME-GI, WinGD X-DF',shipyards:'Fujian Mawei, China Merchants Jinling',partners:'Volkswagen, Hyundai, BYD (China EV export growth)'}}
];

// Render customers
const custList = document.getElementById('custList');
function renderCustomers(filter){
  custList.innerHTML = '';
  const filtered = filter==='all' ? customers : customers.filter(c=>c.sector.includes(filter));
  filtered.forEach(c=>{
    const card = document.createElement('div');
    card.className = 'cust-card';
    card.dataset.sectors = c.sector.join(',');
    card.innerHTML = `
      <div class="cust-header">
        <div class="cust-rank">${c.rank}</div>
        <div class="cust-info">
          <div class="cust-name">${c.name}</div>
          <div class="cust-sub">${c.sub}</div>
        </div>
        <div class="cust-badges">${c.sector.map(s=>`<span class="cust-badge ${s}">${s}</span>`).join('')}</div>
        <div class="cust-meta">
          <div class="cust-stat"><div class="cs-n">${c.pumps}</div><div class="cs-l">Est. Pumps</div></div>
          <div class="cust-stat"><div class="cs-n">${c.orderbook.split('/')[0].split('+')[0].trim()}</div><div class="cs-l">Orderbook</div></div>
        </div>
        <div class="cust-expand-icon">Ôºã</div>
      </div>
      <div class="cust-panel">
        <div class="cust-panel-inner">
          <p style="font-size:.82rem;color:var(--text2);line-height:1.6;margin-bottom:1.25rem">${c.detail}</p>
          
          <div class="fgss-section-label" style="margin-bottom:.75rem">Fleet & Vessel Programs</div>
          <div class="cust-gallery">
            ${c.vessels.map(v=>`
              <div class="cust-vessel-card">
                <img class="cust-vessel-img" src="${vesselSVG(v.vtype||'container')}" alt="${v.name}" loading="lazy">
                <div class="cust-vessel-info">
                  <h6>${v.name}</h6>
                  <p>${v.desc}</p>
                  ${v.tags.map(t=>`<span class="cust-vessel-tag ${t}">${t==='hp'?'‚¨Ü HIGH-PRESS':t==='lp'?'LP SYSTEM':'üìã ON ORDER'}</span>`).join('')}
                </div>
              </div>
            `).join('')}
          </div>
          
          <div class="cust-details">
            <div class="cust-detail-block">
              <h6>Specifications</h6>
              <ul>
                <li><strong>Vessel Types:</strong> ${c.vesselTypes}</li>
                <li><strong>Engines:</strong> ${c.details.engines}</li>
                <li><strong>Shipyards:</strong> ${c.details.shipyards}</li>
                <li><strong>Partners:</strong> ${c.details.partners}</li>
              </ul>
            </div>
            <div class="cust-detail-block">
              <h6>Pump Supplier Network</h6>
              <div class="cust-suppliers">
                ${c.suppliers.map(s=>`<span class="cust-supplier-pill ${s.primary?'primary':''}">${s.primary?'‚òÖ ':''} ${s.name}</span>`).join('')}
              </div>
              <div style="margin-top:1rem">
                <h6 style="margin-top:.5rem">Investment Scale</h6>
                <p style="font-size:.8rem;color:var(--accent);font-family:'Space Mono',monospace;margin-top:.35rem">${c.details.orderValue}</p>
              </div>
            </div>
          </div>

          <div class="cust-demand-bar">
            <span class="cust-demand-label">Pump Demand Index</span>
            <div class="cust-demand-track">
              <div class="cust-demand-fill" style="width:0%;background:linear-gradient(90deg,var(--accent),var(--accent2))" data-w="${c.demand}"></div>
            </div>
            <span class="cust-demand-val">${c.demand}/100</span>
          </div>
        </div>
      </div>
    `;
    card.querySelector('.cust-header').addEventListener('click',()=>{
      const wasOpen = card.classList.contains('open');
      card.classList.toggle('open');
      if(!wasOpen){
        setTimeout(()=>{
          const fill = card.querySelector('.cust-demand-fill');
          if(fill) fill.style.width = fill.dataset.w + '%';
        },200);
      }
    });
    custList.appendChild(card);
  });
}
renderCustomers('all');

// Filter buttons
document.querySelectorAll('.cust-filter').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.cust-filter').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    renderCustomers(btn.dataset.filter);
  });
});

// ==================== CHARTS ====================
const chartDefaults = {
  responsive:true,maintainAspectRatio:false,
  plugins:{legend:{labels:{color:'#8892a4',font:{family:'DM Sans',size:11}}}},
  scales:{x:{ticks:{color:'#5a6478',font:{family:'Space Mono',size:10}},grid:{color:'#252a3622'}},
          y:{ticks:{color:'#5a6478',font:{family:'Space Mono',size:10}},grid:{color:'#252a3644'}}}
};

// Market Size
new Chart(document.getElementById('marketSizeChart'),{
  type:'bar',
  data:{
    labels:['2020','2021','2022','2023','2024','2025','2026','2027','2028','2029','2030'],
    datasets:[{label:'Market Size (USD B)',data:[1.6,1.75,1.9,2.1,2.63,2.88,3.1,3.35,3.6,3.9,4.23],
      backgroundColor:ctx=>{
        const g=ctx.chart.ctx.createLinearGradient(0,0,0,300);
        g.addColorStop(0,'#00e5a0');g.addColorStop(1,'#00e5a033');return g;
      },borderColor:'#00e5a0',borderWidth:1,borderRadius:4}]
  },options:{...chartDefaults,plugins:{...chartDefaults.plugins,legend:{display:false}}}
});

// Segment
new Chart(document.getElementById('segmentChart'),{
  type:'doughnut',
  data:{
    labels:['LNG Carrier Cargo','FGSS High-Pressure','Bunkering','FSRU/FLNG','Retrofit/Conversion'],
    datasets:[{data:[32,28,15,14,11],
      backgroundColor:['#00e5a0','#00b8d4','#6c63ff','#f0c040','#ff6b6b'],borderWidth:0}]
  },options:{responsive:true,maintainAspectRatio:false,
    plugins:{legend:{position:'right',labels:{color:'#8892a4',font:{family:'DM Sans',size:11},padding:12}}}}
});

// Market Share
new Chart(document.getElementById('shareChart'),{
  type:'polarArea',
  data:{
    labels:['Nikkiso','Vanzetti','Ebara/Cryodynamics','Cryostar/Fives','Alfa Laval/Cryomec'],
    datasets:[{data:[35,18,22,15,10],
      backgroundColor:['#00e5a066','#00b8d466','#6c63ff66','#f0c04066','#ff6b6b66'],
      borderColor:['#00e5a0','#00b8d4','#6c63ff','#f0c040','#ff6b6b'],borderWidth:2}]
  },options:{responsive:true,maintainAspectRatio:false,
    scales:{r:{ticks:{display:false},grid:{color:'#252a3644'}}},
    plugins:{legend:{position:'right',labels:{color:'#8892a4',font:{family:'DM Sans',size:11},padding:12}}}}
});

// Vessel Orders
new Chart(document.getElementById('vesselChart'),{
  type:'line',
  data:{
    labels:['2018','2019','2020','2021','2022','2023','2024','2025','2026*','2027*','2028*'],
    datasets:[
      {label:'LNG Newbuilds',data:[45,65,55,120,180,260,310,350,400,460,520],
        borderColor:'#00e5a0',backgroundColor:'#00e5a015',fill:true,tension:0.4,pointRadius:3},
      {label:'Retrofits',data:[5,8,10,15,25,40,65,95,140,200,280],
        borderColor:'#ff6b6b',backgroundColor:'#ff6b6b15',fill:true,tension:0.4,pointRadius:3}
    ]
  },options:chartDefaults
});

// Regional
new Chart(document.getElementById('regionChart'),{
  type:'bar',
  data:{
    labels:['Asia-Pacific','Europe','North America','Middle East','Rest of World'],
    datasets:[{label:'Revenue Share %',data:[42,25,18,10,5],
      backgroundColor:['#00e5a0','#00b8d4','#6c63ff','#f0c040','#ff6b6b'],borderRadius:4,borderWidth:0}]
  },options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',
    plugins:{legend:{display:false}},
    scales:{
      x:{beginAtZero:true,max:50,ticks:{color:'#5a6478',font:{family:'Space Mono',size:10},callback:v=>v+'%'},grid:{color:'#252a3622'}},
      y:{ticks:{color:'#8892a4',font:{family:'DM Sans',size:11}},grid:{display:false}}
    }
  }
});

// Tech Mix
new Chart(document.getElementById('techMixChart'),{
  type:'bar',
  data:{
    labels:['2020','2021','2022','2023','2024','2025','2026*','2028*','2030*'],
    datasets:[
      {label:'High Pressure (‚â•300 bar)',data:[25,30,38,42,50,55,60,65,70],backgroundColor:'#00e5a0cc',borderRadius:4},
      {label:'Low Pressure (<20 bar)',data:[75,70,62,58,50,45,40,35,30],backgroundColor:'#6c63ff66',borderRadius:4}
    ]
  },options:{...chartDefaults,scales:{...chartDefaults.scales,x:{...chartDefaults.scales.x,stacked:true},y:{...chartDefaults.scales.y,stacked:true,max:100}}}
});

// R&D Focus
new Chart(document.getElementById('rdChart'),{
  type:'radar',
  data:{
    labels:['HP Efficiency','H‚ÇÇ Compatibility','Digital/IoT','Multi-Fuel Flex','Seal Technology','Modular Design'],
    datasets:[
      {label:'Nikkiso',data:[85,65,80,60,75,90],borderColor:'#00e5a0',backgroundColor:'#00e5a015',pointRadius:3},
      {label:'Vanzetti',data:[80,45,55,50,70,75],borderColor:'#00b8d4',backgroundColor:'#00b8d415',pointRadius:3},
      {label:'Cryostar',data:[75,78,60,70,65,65],borderColor:'#f0c040',backgroundColor:'#f0c04015',pointRadius:3}
    ]
  },options:{responsive:true,maintainAspectRatio:false,
    scales:{r:{ticks:{color:'#5a6478',backdropColor:'transparent',font:{size:9}},
      grid:{color:'#252a3666'},angleLines:{color:'#252a3644'},pointLabels:{color:'#8892a4',font:{size:10}}}},
    plugins:{legend:{position:'bottom',labels:{color:'#8892a4',font:{size:11},padding:15}}}}
});

// Fuel Molecule Timeline
new Chart(document.getElementById('fuelChart'),{
  type:'line',
  data:{
    labels:['2024','2025','2026','2027','2028','2029','2030','2031'],
    datasets:[
      {label:'LNG',data:[92,88,84,78,72,66,60,55],borderColor:'#00e5a0',tension:0.4,fill:false,pointRadius:3},
      {label:'LH‚ÇÇ',data:[1,2,3,5,8,12,18,22],borderColor:'#00b8d4',tension:0.4,fill:false,pointRadius:3},
      {label:'NH‚ÇÉ',data:[2,3,4,6,10,12,14,15],borderColor:'#f0c040',tension:0.4,fill:false,pointRadius:3},
      {label:'Bio-LNG/e-Methane',data:[5,7,9,11,10,10,8,8],borderColor:'#6c63ff',tension:0.4,fill:false,borderDash:[5,5],pointRadius:3}
    ]
  },options:{...chartDefaults,scales:{...chartDefaults.scales,y:{...chartDefaults.scales.y,title:{display:true,text:'% of New Installations',color:'#5a6478'}}}}
});

// ==================== NAV SCROLL SPY ====================
const sections = document.querySelectorAll('section');
const navLinks = document.querySelectorAll('nav a');
const observer = new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      navLinks.forEach(l=>l.classList.remove('active'));
      const link = document.querySelector(`nav a[href="#${e.target.id}"]`);
      if(link)link.classList.add('active');
    }
  });
},{threshold:0.3});
sections.forEach(s=>observer.observe(s));

// Auto-select first company
selectCompany(0);
</script>
</body>
</html>
